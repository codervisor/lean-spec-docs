---
id: 'cli'
title: 'CLI å‚è€ƒ'
sidebar_position: 1
---
# CLI å‘½ä»¤

æ‰€æœ‰ LeanSpec CLI å‘½ä»¤çš„å®Œæ•´å‚è€ƒã€‚

## å…¨å±€é€‰é¡¹

é€‚ç”¨äºæ‰€æœ‰å‘½ä»¤ï¼š

- `--help` - æ˜¾ç¤ºå‘½ä»¤å¸®åŠ©
- `--version` - æ˜¾ç¤º LeanSpec ç‰ˆæœ¬

## å‘½ä»¤

### `lean-spec init`

åœ¨æ‚¨çš„é¡¹ç›®ä¸­åˆå§‹åŒ– LeanSpecã€‚

```bash
lean-spec init
```

**äº¤äº’å¼æç¤ºï¼š**
1. é€‰æ‹©è®¾ç½®è·¯å¾„ï¼ˆå¿«é€Ÿå¼€å§‹ã€é€‰æ‹©æ¨¡æ¿æˆ–è‡ªå®šä¹‰ï¼‰
2. å¤„ç†ç°æœ‰æ–‡ä»¶ï¼ˆåˆå¹¶ã€å¤‡ä»½æˆ–è·³è¿‡ï¼‰
3. é…ç½®åˆå§‹è®¾ç½®

**åˆ›å»ºå†…å®¹ï¼š**
- `.lean-spec/config.json` - é…ç½®æ–‡ä»¶
- `.lean-spec/templates/` - è‡ªå®šä¹‰æ¨¡æ¿ç›®å½•
- `specs/` - Specç›®å½•
- `AGENTS.md` - AI ä»£ç†é›†æˆæŒ‡å¯¼ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰

**é€‰é¡¹ï¼š**
- æ— ï¼ˆå®Œå…¨äº¤äº’å¼ï¼‰

---

### `lean-spec create`

åˆ›å»ºæ–°Specã€‚

```bash
lean-spec create <name> [options]
```

**å‚æ•°ï¼š**
- `<name>` - Specåç§°ï¼ˆå¿…éœ€ï¼‰

**é€‰é¡¹ï¼š**
- `--title <title>` - è®¾ç½®è‡ªå®šä¹‰æ ‡é¢˜
- `--description <desc>` - è®¾ç½®åˆå§‹æè¿°
- `--tags <tags>` - é€—å·åˆ†éš”çš„æ ‡ç­¾
- `--priority <priority>` - è®¾ç½®ä¼˜å…ˆçº§ï¼ˆ`low`ã€`medium`ã€`high`ã€`critical`ï¼‰
- `--assignee <name>` - è®¾ç½®å—è®©äºº
- `--template <template>` - ä½¿ç”¨ç‰¹å®šæ¨¡æ¿
- `--field <name=value>` - è®¾ç½®è‡ªå®šä¹‰å­—æ®µï¼ˆå¯å¤šæ¬¡ä½¿ç”¨ï¼‰
- `--no-prefix` - å³ä½¿é…ç½®äº†ä¹Ÿè·³è¿‡æ—¥æœŸå‰ç¼€

**ç¤ºä¾‹ï¼š**

```bash
# åŸºæœ¬Spec
lean-spec create user-authentication

# å¸¦å…ƒæ•°æ®çš„Spec
lean-spec create user-auth --status=planned --priority=high --tags=security,api

# å¸¦è‡ªå®šä¹‰å­—æ®µçš„Spec
lean-spec create user-auth --field epic=PROJ-123 --field sprint=42
```

**è¾“å‡ºï¼š**
```
âœ“ å·²åˆ›å»ºï¼šspecs/001-user-authentication/
  ç¼–è¾‘ï¼šspecs/001-user-authentication/README.md
```

**è¡Œä¸ºï¼š**
- åˆ›å»º `specs/NNN-name/` ç›®å½•ï¼ˆæ‰å¹³ç»“æ„ï¼Œå…¨å±€ç¼–å·ï¼‰
- ä»æ¨¡æ¿ç”Ÿæˆ `README.md`
- åˆ†é…é¡ºåºç¼–å·ï¼ˆNNNï¼‰ï¼Œåœ¨æ‰€æœ‰Specä¸­å…¨å±€ç¼–å·
- ä½¿ç”¨å…ƒæ•°æ®è®¾ç½®frontmatter

**æ³¨æ„**ï¼šé»˜è®¤ä¸ºæ‰å¹³ç»“æ„ã€‚å¯¹äºåŸºäºæ—¥æœŸçš„åˆ†ç»„ï¼Œåœ¨ `.lean-spec/config.json` ä¸­é…ç½® `pattern: "custom"`ã€‚

---

### `lean-spec list`

åˆ—å‡ºæ‰€æœ‰Specå¹¶å¯é€‰è¿‡æ»¤ã€‚

```bash
lean-spec list [options]
```

**é€‰é¡¹ï¼š**
- `--archived` - åŒ…æ‹¬å·²å½’æ¡£çš„Spec
- `--status <status>` - æŒ‰çŠ¶æ€è¿‡æ»¤ï¼ˆ`planned`ã€`in-progress`ã€`complete`ã€`archived`ï¼‰
- `--priority <priority>` - æŒ‰ä¼˜å…ˆçº§è¿‡æ»¤ï¼ˆ`low`ã€`medium`ã€`high`ã€`critical`ï¼‰
- `--tag <tag>` - æŒ‰æ ‡ç­¾è¿‡æ»¤ï¼ˆå¯¹å¤šä¸ªæ ‡ç­¾ä½¿ç”¨å¤šä¸ª --tag æ ‡å¿—ï¼‰
- `--assignee <name>` - æŒ‰å—è®©äººè¿‡æ»¤
- `--field <name=value>` - æŒ‰è‡ªå®šä¹‰å­—æ®µè¿‡æ»¤ï¼ˆå¯æŒ‡å®šå¤šä¸ªï¼‰
- `--sort <field>` - æŒ‰å­—æ®µæ’åºï¼ˆ`id`ã€`created`ã€`name`ã€`status`ã€`priority`ï¼‰ï¼ˆé»˜è®¤ï¼š`id`ï¼‰
- `--order <order>` - æ’åºé¡ºåºï¼ˆ`asc`ã€`desc`ï¼‰ï¼ˆé»˜è®¤ï¼š`desc`ï¼‰

**ç¤ºä¾‹ï¼š**

```bash
# åˆ—å‡ºæ‰€æœ‰Spec
lean-spec list

# æŒ‰çŠ¶æ€è¿‡æ»¤
lean-spec list --status=in-progress
lean-spec list --status=planned

# æŒ‰ä¼˜å…ˆçº§è¿‡æ»¤
lean-spec list --priority=high

# æŒ‰æ ‡ç­¾è¿‡æ»¤
lean-spec list --tag api

# æŒ‰å¤šä¸ªæ ‡ç­¾è¿‡æ»¤
lean-spec list --tag api --tag backend

# ç»„åˆè¿‡æ»¤å™¨
lean-spec list --status planned --priority high --tag api

# æŒ‰è‡ªå®šä¹‰å­—æ®µè¿‡æ»¤
lean-spec list --field epic=PROJ-123
```

**è¾“å‡ºï¼š**
```
=== Spec ===

ğŸ“… specs/001-user-authentication
   åˆ›å»ºï¼š2025-11-02 Â· ä¼˜å…ˆçº§ï¼šhigh Â· æ ‡ç­¾ï¼šsecurity, api

â³ specs/002-password-reset
   åˆ›å»ºï¼š2025-11-02 Â· ä¼˜å…ˆçº§ï¼šmedium
```

**æ³¨æ„**ï¼šè¾“å‡ºæ˜¾ç¤ºæ‰å¹³ç»“æ„ï¼ˆé»˜è®¤ï¼‰ã€‚é…ç½®æ—¥æœŸåˆ†ç»„åï¼Œè·¯å¾„å°†ä¸º `specs/YYYYMMDD/NNN-name/`ã€‚

**çŠ¶æ€å›¾æ ‡ï¼š**
- ğŸ“… è®¡åˆ’ä¸­
- â³ è¿›è¡Œä¸­
- âœ… å®Œæˆ
- ğŸ“¦ å·²å½’æ¡£

---

### `lean-spec update`

æ›´æ–°Specå…ƒæ•°æ®ã€‚

```bash
lean-spec update <spec> [options]
```

**å‚æ•°ï¼š**
- `<spec>` - Specæ ‡è¯†ç¬¦ï¼ˆå¿…éœ€ï¼‰ã€‚å¯ä»¥æ˜¯ï¼š
  - Specç¼–å·ï¼š`42` æˆ– `042`
  - Specåç§°ï¼š`unified-dashboard`
  - å®Œæ•´æ–‡ä»¶å¤¹ï¼š`045-unified-dashboard`

**é€‰é¡¹ï¼š**
- `--status <status>` - æ›´æ–°çŠ¶æ€ï¼ˆ`planned`ã€`in-progress`ã€`complete`ã€`archived`ï¼‰
- `--priority <priority>` - æ›´æ–°ä¼˜å…ˆçº§ï¼ˆ`low`ã€`medium`ã€`high`ã€`critical`ï¼‰
- `--tags <tags>` - æ›´æ–°æ ‡ç­¾ï¼ˆé€—å·åˆ†éš”ï¼Œæ›¿æ¢ç°æœ‰æ ‡ç­¾ï¼‰
- `--assignee <name>` - è®¾ç½®å—è®©äºº
- `--field <name=value>` - æ›´æ–°è‡ªå®šä¹‰å­—æ®µï¼ˆå¯å¤šæ¬¡ä½¿ç”¨ï¼‰

**ç¤ºä¾‹ï¼š**

```bash
# æ›´æ–°çŠ¶æ€ï¼ˆä½¿ç”¨Specç¼–å·ï¼‰
lean-spec update 1 --status=in-progress

# æ›´æ–°ä¼˜å…ˆçº§ï¼ˆä½¿ç”¨Specåç§°ï¼‰
lean-spec update user-auth --priority=critical

# æ›´æ–°æ ‡ç­¾
lean-spec update 001-user-auth --tags=security,api,mvp

# æ›´æ–°è‡ªå®šä¹‰å­—æ®µ
lean-spec update 1 --field epic=PROJ-123

# æ›´æ–°å¤šä¸ªå­—æ®µ
lean-spec update 1 --status=complete --priority=high
```

**è¾“å‡ºï¼š**
```
âœ“ å·²æ›´æ–°ï¼šspecs/001-user-auth
  å­—æ®µï¼šstatus, priority
```

**ç‰¹æ®Šè¡Œä¸ºï¼š**
- å°†çŠ¶æ€è®¾ç½®ä¸º `complete` ä¼šè‡ªåŠ¨æ·»åŠ  `completed` æ—¶é—´æˆ³
- README.md ä¸­çš„å¯è§†å¾½ç« è‡ªåŠ¨æ›´æ–°
- frontmatterå’Œå¾½ç« ä¿æŒåŒæ­¥

---

### `lean-spec search`

è·¨æ‰€æœ‰Specå…¨æ–‡æœç´¢ã€‚

```bash
lean-spec search <query> [options]
```

**å‚æ•°ï¼š**
- `<query>` - æœç´¢æŸ¥è¯¢ï¼ˆå¿…éœ€ï¼‰

**é€‰é¡¹ï¼š**
- `--status <status>` - æŒ‰çŠ¶æ€è¿‡æ»¤ç»“æœ
- `--priority <priority>` - æŒ‰ä¼˜å…ˆçº§è¿‡æ»¤ç»“æœ
- `--tag <tag>` - æŒ‰æ ‡ç­¾è¿‡æ»¤ç»“æœ
- `--assignee <name>` - æŒ‰å—è®©äººè¿‡æ»¤ç»“æœ
- `--field <name=value>` - æŒ‰è‡ªå®šä¹‰å­—æ®µè¿‡æ»¤ç»“æœï¼ˆå¯æŒ‡å®šå¤šä¸ªï¼‰

**ç¤ºä¾‹ï¼š**

```bash
# åŸºæœ¬æœç´¢
lean-spec search "authentication"

# å¸¦è¿‡æ»¤å™¨çš„æœç´¢
lean-spec search "JWT token" --status=in-progress
lean-spec search "API" --tag=security
lean-spec search "password" --field epic=PROJ-123
```

**è¾“å‡ºï¼š**
```
æ‰¾åˆ° 2 ä¸ªåŒ¹é… "authentication" çš„Specï¼š

ğŸ“… specs/001-user-authentication
   åˆ›å»ºï¼š2025-11-02
   åŒ¹é…ä½ç½®ï¼šæ¦‚è¿°ã€å…³é”®åœºæ™¯

â³ specs/003-two-factor-auth
   åˆ›å»ºï¼š2025-11-02
   åŒ¹é…ä½ç½®ï¼šæŠ€æœ¯æ–¹æ³•
```

**æœç´¢è¡Œä¸ºï¼š**
- æœç´¢Specå†…å®¹ï¼ˆREADME.mdï¼‰
- ä¸åŒºåˆ†å¤§å°å†™
- æœç´¢æ ‡é¢˜ã€æ¦‚è¿°ã€åœºæ™¯ã€æ ‡å‡†ç­‰
- ä¸æœç´¢frontmatter

---

### `lean-spec archive`

å½’æ¡£å·²å®Œæˆçš„Specã€‚

```bash
lean-spec archive <spec>
```

**å‚æ•°ï¼š**
- `<spec>` - Specæ ‡è¯†ç¬¦ï¼ˆå¿…éœ€ï¼‰ã€‚å¯ä»¥æ˜¯ï¼š
  - Specç¼–å·ï¼š`42` æˆ– `042`
  - Specåç§°ï¼š`unified-dashboard`
  - å®Œæ•´æ–‡ä»¶å¤¹ï¼š`045-unified-dashboard`

**ç¤ºä¾‹ï¼š**

```bash
# æŒ‰Specç¼–å·å½’æ¡£
lean-spec archive 1

# æŒ‰åç§°å½’æ¡£
lean-spec archive user-auth
```

**è¾“å‡ºï¼š**
```
âœ“ å·²å½’æ¡£ï¼šspecs/001-user-auth
  ç§»è‡³ï¼šspecs/archived/001-user-auth
```

**è¡Œä¸ºï¼š**
- å°†Specä» `specs/` ç§»è‡³ `specs/archived/`
- ä¿ç•™ç›®å½•ç»“æ„
- ä¿ç•™æ‰€æœ‰å…ƒæ•°æ®
- Specä¸å†é»˜è®¤å‡ºç°åœ¨ `lean-spec list` ä¸­

**æœ€ä½³å®è·µï¼š**
- å½’æ¡£å‰å°†çŠ¶æ€æ›´æ–°ä¸º `complete`
- å·¥ä½œå®Œå…¨å®Œæˆåå½’æ¡£Spec
- ç”¨äºä¿æŒæ´»åŠ¨å·¥ä½œåŒºæ¸…æ´

---

### `lean-spec view`

æŸ¥çœ‹Specå†…å®¹ã€‚

```bash
lean-spec view <spec> [options]
```

**å‚æ•°ï¼š**
- `<spec>` - Specæ ‡è¯†ç¬¦ï¼ˆå¿…éœ€ï¼‰ã€‚å¯ä»¥æ˜¯ï¼š
  - Specç¼–å·ï¼š`42` æˆ– `042`
  - Specåç§°ï¼š`unified-dashboard`
  - å®Œæ•´æ–‡ä»¶å¤¹ï¼š`045-unified-dashboard`

**é€‰é¡¹ï¼š**
- `--raw` - è¾“å‡ºåŸå§‹ markdownï¼ˆç”¨äºç®¡é“/è„šæœ¬ï¼‰
- `--json` - è¾“å‡ºä¸º JSON
- `--no-color` - ç¦ç”¨é¢œè‰²

**ç¤ºä¾‹ï¼š**

```bash
# æŸ¥çœ‹æ ¼å¼åŒ–çš„Spec
lean-spec view 001-user-authentication

# è·å–åŸå§‹ markdownï¼ˆç”¨äºè„šæœ¬ï¼‰
lean-spec view 001-user-auth --raw | grep "TODO"

# è·å–ç»“æ„åŒ– JSON
lean-spec view 001-user-auth --json | jq '.frontmatter.status'
```

**é»˜è®¤è¾“å‡ºï¼ˆæ ¼å¼åŒ–ï¼‰ï¼š**
```
â”â”â” 001-user-authentication â”â”â”

ğŸ“… çŠ¶æ€ï¼šplanned
ğŸŸ¡ ä¼˜å…ˆçº§ï¼šhigh
ğŸ“† åˆ›å»ºï¼š2025-11-02
ğŸ·ï¸  æ ‡ç­¾ï¼š#security #api

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# ç”¨æˆ·èº«ä»½éªŒè¯

## æ¦‚è¿°
...
```

**åŸå§‹è¾“å‡ºï¼ˆ`--raw`ï¼‰ï¼š**
```markdown
---
status: planned
priority: high
created: 2025-11-02
tags:
  - security
  - api
---

# ç”¨æˆ·èº«ä»½éªŒè¯

## æ¦‚è¿°
...
```

**JSON è¾“å‡ºï¼ˆ`--json`ï¼‰ï¼š**
```json
{
  "name": "001-user-authentication",
  "path": "specs/001-user-authentication",
  "frontmatter": {
    "status": "planned",
    "priority": "high",
    "created": "2025-11-02",
    "tags": ["security", "api"]
  },
  "content": "# ç”¨æˆ·èº«ä»½éªŒè¯\n\n## æ¦‚è¿°\n..."
}
```

**ç”¨ä¾‹ï¼š**
- **é»˜è®¤**ï¼šäººç±»å¯è¯»çš„SpecæŸ¥çœ‹
- **`--raw`**ï¼šç®¡é“åˆ°å…¶ä»–å·¥å…·ã€AI ä¸Šä¸‹æ–‡ã€ç‰ˆæœ¬æ§åˆ¶å·®å¼‚
- **`--json`**ï¼šç¨‹åºåŒ–è®¿é—®ã€CI/CDã€é›†æˆ

---

### `lean-spec open`

åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€Specã€‚

```bash
lean-spec open <spec> [options]
```

**å‚æ•°ï¼š**
- `<spec>` - Specæ ‡è¯†ç¬¦ï¼ˆå¿…éœ€ï¼‰ã€‚å¯ä»¥æ˜¯ï¼š
  - Specç¼–å·ï¼š`42` æˆ– `042`
  - Specåç§°ï¼š`unified-dashboard`
  - å®Œæ•´æ–‡ä»¶å¤¹ï¼š`045-unified-dashboard`

**é€‰é¡¹ï¼š**
- `--editor <editor>` - æŒ‡å®šç¼–è¾‘å™¨å‘½ä»¤

**ç¤ºä¾‹ï¼š**

```bash
# åœ¨é»˜è®¤ç¼–è¾‘å™¨ä¸­æ‰“å¼€
lean-spec open 001-user-authentication

# åœ¨ç‰¹å®šç¼–è¾‘å™¨ä¸­æ‰“å¼€
lean-spec open 001-user-auth --editor=code
lean-spec open 001-user-auth --editor=vim
```

**ç¼–è¾‘å™¨é€‰æ‹©ï¼š**
1. å¦‚æœæä¾›äº† `--editor` æ ‡å¿—
2. `$VISUAL` ç¯å¢ƒå˜é‡
3. `$EDITOR` ç¯å¢ƒå˜é‡
4. ç³»ç»Ÿé»˜è®¤ï¼ˆmacOS ä¸Šçš„ `open`ã€Linux ä¸Šçš„ `xdg-open`ã€Windows ä¸Šçš„ `start`ï¼‰

**è¡Œä¸ºï¼š**
- æ‰“å¼€Specçš„ `README.md` æ–‡ä»¶
- GUI ç¼–è¾‘å™¨ï¼ˆVS Codeã€Atomï¼‰ä¸ä¼šé˜»å¡ç»ˆç«¯
- ç»ˆç«¯ç¼–è¾‘å™¨ï¼ˆvimã€nanoï¼‰åœ¨å…³é—­å‰é˜»å¡

---

### `lean-spec templates`

åˆ—å‡ºå¯ç”¨çš„é¡¹ç›®æ¨¡æ¿ã€‚

```bash
lean-spec templates
```

**è¾“å‡ºï¼š**
```
=== å¯ç”¨æ¨¡æ¿ ===

standard       æ¨è - å•æ–‡ä»¶ Spec ä¸ AGENTS.mdï¼ˆé»˜è®¤ï¼‰
detailed       å¤æ‚ Spec ä¸å­ Spec ç»“æ„ï¼ˆDESIGN, PLAN, TESTï¼‰

ä½¿ç”¨ï¼šlean-spec init
ç„¶åé€‰æ‹©"é€‰æ‹©æ¨¡æ¿"é€‰é¡¹
```

---

### `lean-spec stats`

æ˜¾ç¤ºSpecç»Ÿè®¡ä¿¡æ¯ã€‚

```bash
lean-spec stats
```

**è¾“å‡ºï¼š**
```
=== Specç»Ÿè®¡ ===

æ€»Specæ•°ï¼š15
  è®¡åˆ’ä¸­ï¼š5
  è¿›è¡Œä¸­ï¼š7
  å®Œæˆï¼š3

æŒ‰ä¼˜å…ˆçº§ï¼š
  å…³é”®ï¼š2
  é«˜ï¼š6
  ä¸­ï¼š5
  ä½ï¼š2

æŒ‰æ ‡ç­¾ï¼š
  apiï¼š8
  securityï¼š5
  uiï¼š3
```

---

### `lean-spec board`

æŒ‰çŠ¶æ€æŸ¥çœ‹Specï¼ˆçœ‹æ¿é£æ ¼ï¼‰ã€‚

```bash
lean-spec board
```

**è¾“å‡ºï¼š**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    LeanSpec çœ‹æ¿                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ è®¡åˆ’ä¸­           è¿›è¡Œä¸­              å®Œæˆ                 â•‘
â• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£
â•‘ user-auth       â”‚ api-gateway        â”‚ login-ui           â•‘
â•‘ rate-limiting   â”‚ database-setup     â”‚ password-hash      â•‘
â•‘ oauth-provider  â”‚ error-handling     â”‚ session-mgmt       â•‘
â•‘                 â”‚                    â”‚                    â•‘
â•‘ 3 ä¸ªSpec        â”‚ 3 ä¸ªSpec           â”‚ 3 ä¸ªSpec           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

### `lean-spec tokens`

ä¸º LLM ä¸Šä¸‹æ–‡ç®¡ç†ç»Ÿè®¡Specçš„Tokenæ•°ã€‚

```bash
lean-spec tokens [spec] [options]
```

**å‚æ•°ï¼š**
- `[spec]` - Specæ ‡è¯†ç¬¦ï¼ˆå¯é€‰ï¼‰ã€‚å¯ä»¥æ˜¯ï¼š
  - Specç¼–å·ï¼š`42` æˆ– `042`
  - Specåç§°ï¼š`unified-dashboard`
  - å®Œæ•´æ–‡ä»¶å¤¹ï¼š`045-unified-dashboard`
  - çœç•¥æ—¶æ˜¾ç¤ºæ‰€æœ‰Specçš„Tokenç»Ÿè®¡

**é€‰é¡¹ï¼š**
- `--detailed` - æ˜¾ç¤ºå†…å®¹æ‹†åˆ†ï¼ˆæ­£æ–‡ã€ä»£ç ã€è¡¨æ ¼ã€frontmatterï¼‰
- `--include-sub-specs` - åœ¨è®¡æ•°ä¸­åŒ…å«å­ Specæ–‡ä»¶
- `--all` - æ˜¾ç¤ºæ‰€æœ‰Specï¼ˆä¸ä»…é™äºæ´»åŠ¨çŠ¶æ€ï¼‰
- `--sort-by <field>` - æ’åºå­—æ®µï¼š`tokens`ã€`lines`ã€`name`ï¼ˆé»˜è®¤ï¼š`tokens`ï¼‰
- `--json` - ä»¥ JSON è¾“å‡º

**ç¤ºä¾‹ï¼š**

```bash
# ç»Ÿè®¡ç‰¹å®šSpec
lean-spec tokens 045
lean-spec tokens unified-dashboard

# æŸ¥çœ‹è¯¦ç»†æ‹†åˆ†
lean-spec tokens 045 --detailed

# åŒ…å«å­ Specæ–‡ä»¶
lean-spec tokens 045 --include-sub-specs

# æŒ‰Tokenæ•°æŸ¥çœ‹æ‰€æœ‰Spec
lean-spec tokens
lean-spec tokens --all

# ç”¨äºè„šæœ¬çš„ JSON è¾“å‡º
lean-spec tokens 045 --json
```

**è¾“å‡ºï¼š**
```
ğŸ“Š Tokenç»Ÿè®¡ï¼š045-unified-dashboard

  æ€»è®¡ï¼š2,847 Token âœ…

æ–‡ä»¶ï¼š

  README.md                 1,923 Token (287 è¡Œ)
  DESIGN.md                   654 Token (98 è¡Œ)
  TESTING.md                  270 Token (41 è¡Œ)

å†…å®¹æ‹†åˆ†ï¼š

  æ­£æ–‡        2,145 Token  (75%)
  ä»£ç           523 Token  (18%)
  è¡¨æ ¼          156 Token  (5%)
  frontmatter      23 Token  (1%)
```

**æ€§èƒ½æŒ‡ç¤ºï¼š**
- âœ… ä¼˜ç§€ (&lt;2,000 Token) - åŸºçº¿ AI è¡¨ç°ï¼ˆ100% æœ‰æ•ˆï¼‰
- ğŸ‘ è‰¯å¥½ (2,000-3,500 Token) - è½»å¾®é€€åŒ–ï¼Œå¯æ¥å—ï¼ˆ95% æœ‰æ•ˆï¼‰
- âš ï¸ è­¦å‘Š (3,500-5,000 Token) - è€ƒè™‘æ‹†åˆ†æˆ–ç²¾ç®€ï¼ˆ85% æœ‰æ•ˆï¼‰
- ğŸ”´ é—®é¢˜ (&gt;5,000 Token) - åº”æ‹†åˆ†ï¼ˆ70% æœ‰æ•ˆï¼‰

**ä½¿ç”¨åœºæ™¯ï¼š**
- æ£€æŸ¥Specæ˜¯å¦é€‚åˆ AI ä¸Šä¸‹æ–‡çª—å£
- è¯†åˆ«éœ€è¦æ‹†åˆ†çš„Spec
- åœ¨åŠ è½½åˆ° AI å·¥å…·å‰äº†è§£Tokenæˆæœ¬
- ç›‘æ§Specå¤æ‚åº¦éšæ—¶é—´çš„å˜åŒ–
- éªŒè¯Specæ˜¯å¦ç¬¦åˆä¸Šä¸‹æ–‡ç»æµ (Context Economy)é˜ˆå€¼

**ä¸ºä»€ä¹ˆå…³å¿ƒTokenæ•°ï¼š**
- Tokenæ˜¯ LLM ä¸Šä¸‹æ–‡è¡¡é‡çš„è¡Œä¸šæ ‡å‡†
- ç ”ç©¶è¡¨æ˜è´¨é‡åœ¨è¾¾åˆ°ä¸Šä¸‹æ–‡æé™ä¹‹å‰å°±ä¼šä¸‹é™
- ä»£ç æ›´å¯†é›†ï¼ˆâ‰ˆ3 å­—ç¬¦/Tokenï¼‰è€Œæ­£æ–‡æ›´ç¨€ç–ï¼ˆâ‰ˆ4 å­—ç¬¦/Tokenï¼‰
- é«˜ä½TokenSpecä¹‹é—´å­˜åœ¨ 6 å€çš„æˆæœ¬å·®å¼‚

---

### `lean-spec deps`

æ˜¾ç¤ºSpecçš„ä¾èµ–å…³ç³»ï¼ˆå³å°†æ¨å‡ºï¼‰ã€‚

```bash
lean-spec deps <spec>
```

**å‚æ•°ï¼š**
- `<spec>` - Specæ ‡è¯†ç¬¦ã€‚å¯ä»¥æ˜¯ï¼š
  - Specç¼–å·ï¼š`42` æˆ– `042`
  - Specåç§°ï¼š`unified-dashboard`
  - å®Œæ•´æ–‡ä»¶å¤¹ï¼š`045-unified-dashboard`

**æ³¨æ„ï¼š**æ­¤åŠŸèƒ½å·²è®¡åˆ’ä½†å°šæœªå®ç°ã€‚

---

### `lean-spec ui`

å¯åŠ¨æœ¬åœ°ç½‘é¡µ UI è¿›è¡Œå¯è§†åŒ–Specç®¡ç†ã€‚

```bash
lean-spec ui [é€‰é¡¹]
```

**é€‰é¡¹ï¼š**
- `-s, --specs <dir>` - Specç›®å½•ï¼ˆå¦‚æœçœç•¥åˆ™è‡ªåŠ¨æ£€æµ‹ï¼‰
- `-p, --port <port>` - è¿è¡Œç«¯å£ï¼ˆé»˜è®¤ï¼š3000ï¼‰
- `--no-open` - ä¸è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
- `--dev` - å¼€å‘æ¨¡å¼ï¼ˆä»…é™ LeanSpec monorepoï¼‰
- `--dry-run` - æ˜¾ç¤ºå‘½ä»¤è€Œä¸æ‰§è¡Œ

**ç¤ºä¾‹ï¼š**

```bash
# è‡ªåŠ¨æ£€æµ‹Specï¼Œåœ¨ 3000 ç«¯å£æ‰“å¼€
lean-spec ui

# è‡ªå®šä¹‰ç›®å½•å’Œç«¯å£
lean-spec ui --specs ./docs/specs --port 3100

# ä¸è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
lean-spec ui --no-open

# æŸ¥çœ‹å°†è¿è¡Œçš„å‘½ä»¤
lean-spec ui --dry-run
```

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- **Specæµè§ˆå™¨**ï¼šåˆ—å‡ºã€æœç´¢å’Œç­›é€‰æ‰€æœ‰Spec
- **ä¾èµ–å…³ç³»å›¾**ï¼šå¯è§†åŒ–Specä¹‹é—´çš„å…³ç³»
- **çœ‹æ¿è§†å›¾**ï¼šæŒ‰çŠ¶æ€ç»„ç»‡çš„çœ‹æ¿å¼è§†å›¾
- **ä¸°å¯Œæ ¼å¼**ï¼šå¸¦è¯­æ³•é«˜äº®çš„å®Œæ•´ markdown æ¸²æŸ“
- **å®æ—¶æ›´æ–°**ï¼šæ›´æ”¹è‡ªåŠ¨æ˜¾ç¤ºï¼ˆ60ç§’ç¼“å­˜ï¼‰

**å·¥ä½œåŸç†ï¼š**

åœ¨å¤–éƒ¨é¡¹ç›®ä¸­ï¼š
- å§”æ‰˜ç»™ `npx @leanspec/ui`
- æ— éœ€é¢å¤–å®‰è£…
- ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿæ¨¡å¼ï¼ˆç›´æ¥æ–‡ä»¶è¯»å–ï¼‰

åœ¨ LeanSpec monorepo ä¸­ï¼š
- åœ¨å¼€å‘ä¸­è¿è¡Œæœ¬åœ° `packages/web`
- ç”¨äºæµ‹è¯• UI æ›´æ”¹

**è‡ªåŠ¨æ£€æµ‹ï¼š**

å‘½ä»¤è‡ªåŠ¨æœç´¢æ‚¨çš„Specç›®å½•ï¼š
1. `--specs` é€‰é¡¹ï¼ˆå¦‚æœæä¾›ï¼‰
2. å½“å‰ç›®å½•ä¸­çš„ `specs/`
3. `../specs/`ï¼ˆçˆ¶ç›®å½•ï¼‰
4. `../../specs/`ï¼ˆç¥–çˆ¶ç›®å½•ï¼‰

**æµè§ˆå™¨æ§åˆ¶ï¼š**

é»˜è®¤æƒ…å†µä¸‹ï¼Œå‘½ä»¤ä¼šæ‰“å¼€æ‚¨çš„é»˜è®¤æµè§ˆå™¨ã€‚ä½¿ç”¨ `--no-open` æ¥é˜»æ­¢è¿™ä¸€è¡Œä¸ºï¼Œç„¶åæ‰‹åŠ¨å¯¼èˆªåˆ° `http://localhost:3000`ï¼ˆæˆ–æ‚¨çš„è‡ªå®šä¹‰ç«¯å£ï¼‰ã€‚

**ç«¯å£å†²çªï¼š**

å¦‚æœç«¯å£ 3000 å·²è¢«ä½¿ç”¨ï¼š
```bash
# ä½¿ç”¨ä¸åŒç«¯å£
lean-spec ui --port 3100

# æˆ–åœæ­¢ä½¿ç”¨ç«¯å£ 3000 çš„è¿›ç¨‹
# macOS/Linuxï¼š
lsof -ti:3000 | xargs kill
# Windowsï¼š
netstat -ano | findstr :3000
# ç„¶åï¼štaskkill /PID <PID> /F
```

**ç”¨ä¾‹ï¼š**
- å¯è§†åŒ–æ¢ç´¢å’Œå‘ç°Spec
- å›¢é˜Ÿæ¼”ç¤ºå’Œå±•ç¤º
- åˆ©ç›Šç›¸å…³è€…å®¡æŸ¥
- ä¾èµ–å…³ç³»åˆ†æ
- æ— éœ€ CLI å‘½ä»¤çš„å¿«é€ŸSpecæµè§ˆ

â†’ **äº†è§£æ›´å¤š**ï¼šæŸ¥çœ‹[å¯è§†åŒ–æ¨¡å¼æŒ‡å—](/docs/guide/visual-mode)äº†è§£è¯¦ç»†ä½¿ç”¨æ–¹æ³•ï¼ŒæŸ¥çœ‹ [UI åŒ…å‚è€ƒ](/docs/reference/ui-package)äº†è§£æŠ€æœ¯ç»†èŠ‚ã€‚

---

## Specæ ‡è¯†ç¬¦

æ¥å— `<spec>` å‚æ•°çš„æ‰€æœ‰å‘½ä»¤éƒ½æ”¯æŒçµæ´»æ ¼å¼ï¼š

```bash
# Specç¼–å·ï¼ˆå¸¦æˆ–ä¸å¸¦å¡«å……ï¼‰
42
042

# Specåç§°
unified-dashboard

# å®Œæ•´æ–‡ä»¶å¤¹åç§°
045-unified-dashboard

# ä½¿ç”¨æ—§çš„åŸºäºæ—¥æœŸçš„ç»“æ„ï¼ˆä»ç„¶æ”¯æŒï¼‰
specs/20251102/001-user-auth
20251102/001-user-auth
001-user-auth
```

æ— è®ºä½¿ç”¨å“ªç§æ ¼å¼ï¼ŒLeanSpec éƒ½ä¼šæ‰¾åˆ°Specã€‚

---

## é…ç½®

å‘½ä»¤éµå¾ª `.lean-spec/config.json` ä¸­çš„è®¾ç½®ï¼š

```json
{
  "template": "spec-template.md",
  "specsDir": "specs",
  "structure": {
    "pattern": "flat",
    "sequenceDigits": 3,
    "defaultFile": "README.md"
  },
  "frontmatter": {
    "required": ["status", "created"],
    "optional": ["tags", "priority"],
    "custom": {
      "epic": "string",
      "sprint": "number"
    }
  }
}
```

è¯¦è§[é…ç½®å‚è€ƒ](/zh-Hans/docs/reference/config)ã€‚

---

## é€€å‡ºä»£ç 

- `0` - æˆåŠŸ
- `1` - é”™è¯¯ï¼ˆæ— æ•ˆå‚æ•°ã€æ–‡ä»¶æœªæ‰¾åˆ°ç­‰ï¼‰
- `2` - ç”¨æˆ·å–æ¶ˆæ“ä½œ

---

**ä¸‹ä¸€æ­¥**ï¼šæ¢ç´¢[é…ç½®](/zh-Hans/docs/reference/config)æˆ–äº†è§£[è‡ªå®šä¹‰å­—æ®µ](/zh-Hans/docs/guide/usage/advanced-features/custom-fields)ã€‚
