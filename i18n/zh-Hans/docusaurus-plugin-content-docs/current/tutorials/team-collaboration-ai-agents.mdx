---
title: 与 AI 代理的团队协作
sidebar_position: 4
description: 运行日常协作循环，其中人类和 AI 代理保持规范准确、受让人对齐和阻碍因素可见。
---

# 与 AI 代理的团队协作

**时间**：15-20 分钟  
**目标**：建立协作节奏，其中人类、AI 代理和 LeanSpec 保持完全对齐。

## 前提条件
- 完成较早的教程（规范创作、AI 辅助功能工作、多规范管理）
- 与每个队友的 Copilot 代理共享 `AGENTS.md` + `specs/`
- 确保 `lean-spec` CLI 可在本地使用（全局安装或 `npx`）

## 步骤 1：早晨同步（5 分钟）
1. 导出状态：
   ```bash
   lean-spec board --json > .lean-spec/cache/board.json
   lean-spec stats --json > .lean-spec/cache/stats.json
   lean-spec search "status:blocked" --json > .lean-spec/cache/blocked.json
   ```
2. 提示 Copilot Agent 模式：
   ```
   阅读 board.json、stats.json、blocked.json。总结：
   - 仍处于计划状态的高优先级规范
   - 被阻塞的规范（谁被阻塞 + 被什么阻塞）
   - 拥有 >2 个进行中规范的受让人
   返回要点行动。
   ```
3. 将要点粘贴到站会笔记或 Slack 中。每个人都看到相同的事实。

## 步骤 2：分配和优先排序（3 分钟）
让代理起草命令：
```
提议 `lean-spec update --assignee` 命令，以便每个高优先级
规范都有一个所有者。如果缺少优先级/标签建议，则包括它们。
```
审查、运行并承诺计划：
```bash
lean-spec update dash-api --assignee "Bob" --priority high --tags "backend,sprint-6"
lean-spec update dash-ui --assignee "Alice" --priority high --tags "frontend,sprint-6"
```

## 步骤 3：依赖关系监视（全天）
当依赖关系可能解锁工作时：
```bash
lean-spec deps dash-ui --json > .lean-spec/cache/dash-ui-deps.json
```
提示：
```
阅读 dash-ui-deps.json。阻碍因素已清除吗？如果是，制作
`lean-spec update` 命令将其标记为进行中，并列出前三个
我应该处理的检查清单项目。
```
将响应粘贴到 `## 计划` 或 `## 注释` 中，以便上下文与规范保持一致。

## 步骤 4：交接包（5 分钟）
1. 快照规范：
   ```bash
   lean-spec view comments-service --json > .lean-spec/cache/comments.json
   ```
2. 提示：
   ```
   为 Carol 总结 comments-service：
   - 范围 + 状态
   - 阻碍因素/依赖关系
   - 今天触及的文件
   - 她应该运行的下一个命令
   ```
3. 在 `## 交接说明` 下添加摘要，然后：
   ```bash
   lean-spec update comments-service --assignee "Carol"
   ```

## 步骤 5：晚间总结（5 分钟）
对于你触及的每个规范：
```bash
lean-spec view <spec> --json > .lean-spec/cache/<spec>.json
```
提示：
```
使用 <spec>.json，编写涵盖（1）交付了什么、
（2）风险、（3）下一个行动/所有者的 3 个要点结果。保持在 120 字以下。
```
在将其标记为 `in-progress` 或标记为 `complete` 之前，附加到规范。

## 协作角色

| 角色 | 人类 | AI 代理 |
| --- | --- | --- |
| 规范作者 | 捕获意图，批准范围更改 | 起草部分，提议依赖关系，标记缺失的元数据 |
| 实施者 | 审查差异，运行测试，更新状态 | 应用代码更改，总结失败，建议修复 |
| 协调员 | 设置优先级，协商权衡 | 监控看板/统计，创建站会摘要，准备交接包 |

## 配方提示
- **站会脚本：** "给定 board.json、stats.json、blocked.json，生成带有 Ready / Blocked / Completed / Risks 部分和受让人的 Markdown。"
- **负载平衡：** "按进行中计数对受让人排序。推荐 `lean-spec update --assignee` 命令以保持每人 ≤2。"
- **冲刺过滤器：**
  ```bash
  lean-spec search "tag:sprint-12" --json > .lean-spec/cache/sprint-12.json
  ```
  提示："突出显示 3 天后仍处于计划状态的 sprint-12 规范并建议推动。"
- **会议准备：** "总结在过去 24 小时内更改状态的标记为 `frontend-team` 的规范。"

## 健康协作检查清单
- ☐ 每个活动规范都有 `assignee`、`priority`、`status`
- ☐ 依赖关系保持准确（代理可以建议缺失的链接）
- ☐ 站会摘要引用真实的 LeanSpec 数据文件
- ☐ 交接说明存在于规范内，而不仅仅是聊天
- ☐ 在总结期间更新结果或注释部分
- ☐ AI 创作的公告在外部共享之前由人类审查

## 现成的提示
- "总结分配给 @Alice 的仍处于计划状态的所有内容。"
- "什么阻止了标记为 `frontend-team` 的规范？为每个所有者建议下一个命令。"
- "起草一个 GitHub 评论，概述今天的规范 082 更改。"
- "比较后端与前端工作负载并推荐交换。"

## 下一步
1. 使用 VS Code 任务自动化 JSON 导出，以便每个队友（和代理）从相同的数据开始。
2. 在新规范中标准化 `## 交接说明` 模板。
3. 重新访问 [AI 可执行模式](/docs/guide/usage/ai-assisted/ai-executable-patterns)以保持实现提示清晰。
4. 使用此循环更新 `AGENTS.md`，以便新代理遵循相同的节奏。

让人类专注于决策——让 AI 处理摘要、提醒和检查清单。
