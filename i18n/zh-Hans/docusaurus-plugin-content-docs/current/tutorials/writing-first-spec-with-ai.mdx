---
title: 使用 AI 完成第一个功能
sidebar_position: 1
description: 通过 AI 辅助的规格驱动开发，从想法到工作代码构建完整功能
---

# 使用 AI 完成第一个功能

了解 LeanSpec 如何帮助您在几分钟而非几小时内从意图到实现。您将构建一个真实功能——密码重置的电子邮件通知——由 AI 完成繁重工作。

**时间**：10 分钟  
**结果**：带有完整规格的工作功能

:::info 前置条件
- 完成[快速开始](/docs/guide/getting-started)指南
- 配置了 MCP 的 AI 工具（GitHub Copilot、Claude 等）
:::

## 快速开始

想要使用现成的示例项目跟随学习吗？立即搭建脚手架：

```bash
npx lean-spec init --example email-notifications
cd email-notifications
npm install
npm start
```

然后询问您的 AI：_"使用 LeanSpec 帮我为这个应用添加电子邮件通知"_

或继续使用您自己的项目...

## 场景

您正在构建一个用户仪表板。密码重置功能正常工作，但用户没有收到确认电子邮件。您需要在用户重置密码时添加电子邮件通知。

起点：
```
your-project/
├── src/
│   ├── auth/
│   │   └── reset-password.ts    # 现有重置逻辑
│   └── services/
│       └── email-service.ts     # 邮件服务已存在
└── specs/                        # 您的规格文件夹
```

## 创建规格

在您的 AI 工具中，描述您想要什么：

```
为密码重置添加电子邮件通知创建一个新规格。
用户应该收到包含以下内容的确认邮件：
- 重置确认消息
- 安全提示
- 登录链接

使用现有的邮件服务。保持简单。
```

AI 读取您的项目结构并在 `specs/014-reset-email-notifications/` 中创建规格。以下是它生成的内容：

```markdown title="specs/014-reset-email-notifications/README.md"
---
status: planned
created: '2025-11-24'
priority: medium
---

# 重置邮件通知

> **状态**：📅 已规划 · **优先级**：中

## 概述
在用户重置密码时添加确认邮件。
目前重置后他们没有收到任何反馈。

## 设计
- 挂钩到现有的 `resetPassword()` 函数
- 使用 `EmailService.send()` 配合 "password-reset" 模板
- 包括：确认消息、安全提示、登录链接

## 计划
- [ ] 创建邮件模板
- [ ] 向 reset-password.ts 添加邮件调用
- [ ] 添加邮件发送测试
- [ ] 更新用户文档

## 测试
- [ ] 密码重置后发送邮件
- [ ] 邮件包含所有必需元素
- [ ] 邮件服务失败时的错误处理
```

**刚才发生了什么？** AI：
1. 读取您的意图
2. 分析您的代码库结构
3. 创建了一个有足够细节的专注规格
4. 将状态设置为 `planned`（准备实施）

## 实施

现在让 AI 实施它：

```
实施规格 014。
```

AI 将：
- 读取规格以理解需求
- 创建邮件模板文件
- 向 `reset-password.ts` 添加邮件发送
- 编写测试
- 随着工作进展更新规格的复选框

您会看到类似这样的更新：
```
✓ 已创建邮件模板：templates/password-reset.html
✓ 已修改：src/auth/reset-password.ts（添加邮件通知）
✓ 已添加测试：tests/auth/reset-email.test.ts
✓ 已更新用户文档
```

## 审查和完成

在本地测试功能：
```bash
npm test
npm run dev
# 尝试密码重置流程
```

一切正常？告诉您的 AI：
```
将规格 014 标记为完成。
```

或手动运行：
```bash
lean-spec update 014 --status complete
```

规格现在显示：
```markdown
---
status: complete
completed_at: '2025-11-24T15:32:00.000Z'
---
```

## 刚才发生了什么

您体验了使用 AI 的规格驱动开发：

**没有 LeanSpec：**
- 直接跳进代码，忘记需求
- 在文件之间切换时失去上下文
- 其他人很难理解原因
- 没有交付内容的记录

**有了 LeanSpec：**
- 清晰的意图预先捕获
- AI 使用完整上下文实施
- 为未来的自己记录决策
- 发布内容的完整审计跟踪

规格成为您、AI 和团队之间的 **共享内存**。每个人都知道构建了什么以及为什么。

## 下一步

自己尝试：
- 从您的待办事项中选择一个小功能
- 让您的 AI 创建一个规格
- 让它使用规格作为上下文实施
- 审查并完成

**了解更多：**
- [管理多个功能 →](./managing-multiple-features) - 处理 2-3 个相关规格
- [AI 编码工作流](/docs/guide/usage/ai-coding-workflow) - 最佳实践
- [规格结构](/docs/guide/usage/spec-structure) - 组织规格

**需要帮助？** 查看 [FAQ](/docs/faq) 或[提交问题](https://github.com/codervisor/lean-spec/issues)。
