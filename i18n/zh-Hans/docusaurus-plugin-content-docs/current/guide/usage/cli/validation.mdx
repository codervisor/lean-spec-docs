---
id: 'validation'
title: 'éªŒè¯'
sidebar_position: 4
---

# éªŒè¯

ä½¿ç”¨ LeanSpec çš„å†…ç½®éªŒè¯ç³»ç»Ÿç¡®ä¿Specè´¨é‡ã€‚éªŒè¯æ£€æŸ¥ç»“æ„é—®é¢˜ã€frontmatteræ­£ç¡®æ€§ä»¥åŠTokenè®¡æ•°ç®¡ç†ï¼Œä»¥ä¿æŒæœ€ä½³çš„ AI ç†è§£èƒ½åŠ›ã€‚

## éªŒè¯å‘½ä»¤

æ£€æŸ¥Specçš„è´¨é‡é—®é¢˜ï¼š

```bash
lean-spec validate
```

é»˜è®¤éªŒè¯æ‰€æœ‰Specã€‚æ£€æŸ¥ç‰¹å®šSpecï¼š

```bash
lean-spec validate <spec-1> <spec-2>
```

## è´¨é‡æ£€æŸ¥

### Tokenè®¡æ•°åˆ†æ

åŸºäº **ä¸Šä¸‹æ–‡ç»æµ (Context Economy)** åŸåˆ™ - Specå¿…é¡»é€‚åˆ AI å·¥ä½œè®°å¿† (Working Memory)ï¼š

- **âœ… ä¼˜ç§€**ï¼š\<2,000 ä¸ªToken - 100% AI æœ‰æ•ˆæ€§
- **ğŸ‘ è‰¯å¥½**ï¼š2,000-3,500 ä¸ªToken - 95% AI æœ‰æ•ˆæ€§
- **âš ï¸ è­¦å‘Š**ï¼š3,500-5,000 ä¸ªToken - 85% AI æœ‰æ•ˆæ€§
- **ğŸ”´ é”™è¯¯**ï¼š>5,000 ä¸ªToken - 70% AI æœ‰æ•ˆæ€§ï¼Œåº”è¯¥æ‹†åˆ†

**ç†ç”±**ï¼š
- AI ä¸Šä¸‹æ–‡çª—å£ï¼šæœ‰é™ä¸”æ˜‚è´µ
- è´¨é‡ä¸‹é™åœ¨ 50K Tokenç¡¬é™åˆ¶ä¹‹å‰å°±å¼€å§‹
- äººç±» + AI å·¥ä½œè®°å¿†ï¼šçº¦ 2-3K Tokenä»¥å®ç°æœ€ä½³ç†è§£
- ç‰©ç† + ç”Ÿç‰© + ç»æµ = ç¡¬é™åˆ¶

**è¡Œæ•°æ”¯æ’‘**ï¼š
LeanSpec ä¹Ÿæ£€æŸ¥è¡Œæ•°ä½œä¸ºå®‰å…¨ç½‘ï¼ˆ400 è¡Œè­¦å‘Š / 500 è¡Œæœ€å¤§å€¼ï¼‰ï¼Œä½† **Tokenè®¡æ•°æ˜¯ä¸»è¦æŒ‡æ ‡**,å› ä¸ºå®ƒç›´æ¥æµ‹é‡ AI å·¥ä½œè®°å¿†æ¶ˆè€—ã€‚

### å­ SpecéªŒè¯

æ£€æŸ¥å­ Specæ–‡ä»¶ï¼ˆDESIGN.mdã€TESTING.mdã€IMPLEMENTATION.md ç­‰ï¼‰ï¼š

- æ¯ä¸ªå­ Specä¹Ÿéµå¾ªTokené™åˆ¶
- è·Ÿè¸ªæ€»Specå¤§å°ï¼ˆä¸»Spec + å­ Specï¼‰
- å¦‚æœä»»ä½•æ–‡ä»¶è¶…è¿‡é˜ˆå€¼ï¼Œå»ºè®®æ‹†åˆ†

### frontmatteréªŒè¯

ç¡®ä¿æ‰€éœ€å­—æ®µå­˜åœ¨ä¸”æœ‰æ•ˆï¼š

**å¿…éœ€å­—æ®µï¼š**
- `status`ï¼šå¿…é¡»æœ‰æ•ˆï¼ˆplannedã€in-progressã€complete ç­‰ï¼‰
- `priority`ï¼šå¿…é¡»æœ‰æ•ˆï¼ˆhighã€mediumã€lowã€noneï¼‰
- `created`ï¼šæœ‰æ•ˆæ—¥æœŸæ ¼å¼

**å¯é€‰å­—æ®µï¼ˆå¦‚æœå­˜åœ¨åˆ™éªŒè¯ï¼‰ï¼š**
- `tags`ï¼šæ­£ç¡®æ ¼å¼
- `depends_on`ã€`related`ï¼šæœ‰æ•ˆçš„Specå¼•ç”¨
- è‡ªå®šä¹‰å­—æ®µï¼šæ­£ç¡®ç±»å‹

### ç»“æ„éªŒè¯

æ£€æŸ¥Specç»„ç»‡ï¼š

- README.md å­˜åœ¨ï¼ˆä¸»Specæ–‡ä»¶ï¼‰
- å­ Specéµå¾ªå‘½åçº¦å®š
- æ²¡æœ‰å­¤ç«‹æˆ–é‡å¤çš„å†…å®¹

## éªŒè¯è¾“å‡º

### æ¸…æ´éªŒè¯

```bash
$ lean-spec validate

âœ… æ‰€æœ‰Specæœ‰æ•ˆï¼

æ‘˜è¦ï¼š
  â€¢ æ£€æŸ¥äº† 45 ä¸ªSpec
  â€¢ 0 ä¸ªé”™è¯¯
  â€¢ 0 ä¸ªè­¦å‘Š
```

### æœ‰è­¦å‘Š

```bash
$ lean-spec validate

âš ï¸  å‘ç°è­¦å‘Šï¼š

058-docs-overview-polish/README.md
  âš ï¸  Tokenè®¡æ•°ï¼š4,200 ä¸ªTokenï¼ˆ85% AI æœ‰æ•ˆæ€§ï¼‰
  â†’ è€ƒè™‘ï¼šç®€åŒ–æˆ–æ‹†åˆ†ä¸ºå­ Spec

æ‘˜è¦ï¼š
  â€¢ æ£€æŸ¥äº† 45 ä¸ªSpec
  â€¢ 0 ä¸ªé”™è¯¯
  â€¢ 1 ä¸ªè­¦å‘Š
```

### æœ‰é”™è¯¯

```bash
$ lean-spec validate

âŒ å‘ç°é”™è¯¯ï¼š

042-complex-spec/README.md
  ğŸ”´ Tokenè®¡æ•°ï¼š5,800 ä¸ªTokenï¼ˆ70% AI æœ‰æ•ˆæ€§ï¼‰
  â†’ æ“ä½œï¼šæ‹†åˆ†ä¸ºå­ Specä»¥æé«˜ AI ç†è§£èƒ½åŠ›

043-broken-spec/README.md
  ğŸ”´ æ— æ•ˆçŠ¶æ€ï¼š'in_progress'ï¼ˆåº”è¯¥æ˜¯ 'in-progress'ï¼‰
  ğŸ”´ ç¼ºå°‘å¿…éœ€å­—æ®µï¼š'created'

æ‘˜è¦ï¼š
  â€¢ æ£€æŸ¥äº† 45 ä¸ªSpec
  â€¢ 3 ä¸ªé”™è¯¯
  â€¢ 0 ä¸ªè­¦å‘Š
```

## è‡ªå®šä¹‰éªŒè¯é€‰é¡¹

### è®¾ç½®è‡ªå®šä¹‰é˜ˆå€¼

```bash
# æ›´ä¸¥æ ¼çš„Tokené˜ˆå€¼
lean-spec validate --warning-threshold 4000

# æ›´å®½æ¾çš„é˜ˆå€¼
lean-spec validate --warning-threshold 6000

# è‡ªå®šä¹‰è¡Œæ•°æ”¯æ’‘
lean-spec validate --max-lines 500
```

### éªŒè¯ç‰¹å®šæ–¹é¢

```bash
# ä»…æ£€æŸ¥å¤æ‚æ€§ï¼ˆTokenï¼‰
lean-spec validate --check complexity

# ä»…æ£€æŸ¥frontmatter
lean-spec validate --check frontmatter

# ä»…æ£€æŸ¥ç»“æ„
lean-spec validate --check structure
```

## ä¿®å¤éªŒè¯é—®é¢˜

### Tokenè®¡æ•°è¿è§„

**é—®é¢˜**ï¼šSpecè¶…è¿‡ 5,000 ä¸ªTokenï¼ˆ70% AI æœ‰æ•ˆæ€§ï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨å­ Specæ‹†åˆ†

```markdown
# ä¹‹å‰ï¼šå•ä¸ª 5,800 TokenSpec
README.md (5,800 Token) ğŸ”´ - 70% AI æœ‰æ•ˆæ€§

# ä¹‹åï¼šæ‹†åˆ†ä¸ºä¸“æ³¨çš„å­ Spec
README.md (2,000 Token) âœ… - æ¦‚è¿°ã€å†³ç­–ã€æ‘˜è¦ï¼ˆ100% æœ‰æ•ˆæ€§ï¼‰
DESIGN.md (1,500 Token) âœ… - è¯¦ç»†è®¾è®¡ï¼ˆ100% æœ‰æ•ˆæ€§ï¼‰
IMPLEMENTATION.md (1,500 Token) âœ… - å®ç°è®¡åˆ’ï¼ˆ100% æœ‰æ•ˆæ€§ï¼‰
```

**ä¸ºä»€ä¹ˆè¿™æ ·åšæœ‰æ•ˆ**ï¼š
- æ¯ä¸ªæ–‡ä»¶ä¿æŒåœ¨ 2,000 ä¸ªTokenä»¥ä¸‹ä»¥å®ç°æœ€ä½³ AI ç†è§£
- AI å¯ä»¥ä¸€æ¬¡ä¸“æ³¨äºä¸€ä¸ªæ–¹é¢
- äººç±»å¯ä»¥å¿«é€Ÿå¯¼èˆªåˆ°ç›¸å…³éƒ¨åˆ†

### æ— æ•ˆçš„frontmatter

**é—®é¢˜**ï¼šfrontmatterå­—æ®µæ— æ•ˆæˆ–ç¼ºå¤±

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `lean-spec update` ä¿®å¤ï¼š

```bash
# ä¿®å¤çŠ¶æ€
lean-spec update <spec> --status in-progress

# ä¿®å¤ä¼˜å…ˆçº§
lean-spec update <spec> --priority high

# ä¿®å¤æ ‡ç­¾
lean-spec update <spec> --tags feature,api
```

### ç»“æ„é—®é¢˜

**é—®é¢˜**ï¼šç¼ºå°‘ README.md æˆ–æ ¼å¼é”™è¯¯çš„å­ Spec

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®ä¿ README.md ä½œä¸ºä¸»Specæ–‡ä»¶å­˜åœ¨
- éµå¾ªå­ Specå‘½åï¼šDESIGN.mdã€TESTING.md ç­‰
- åœ¨æ‰€æœ‰æ–‡ä»¶ä¸­ä½¿ç”¨æ­£ç¡®çš„frontmatter

## éªŒè¯å·¥ä½œæµç¨‹

### æäº¤å‰æ£€æŸ¥

æäº¤å‰è¿è¡Œï¼š

```bash
lean-spec validate
```

åœ¨æäº¤æ›´æ”¹ä¹‹å‰ä¿®å¤ä»»ä½•é”™è¯¯ã€‚

### CI/CD é›†æˆ

æ·»åŠ åˆ°æ‚¨çš„ CI ç®¡é“ï¼š

```yaml
# .github/workflows/validate.yml
name: Validate Specs

on: [push, pull_request]

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm install -g lean-spec
      - run: lean-spec validate
```

### å®šæœŸå®¡æŸ¥

æ¯å‘¨Specå¥åº·æ£€æŸ¥ï¼š

```bash
# æ£€æŸ¥æ•´ä½“å¥åº·çŠ¶å†µ
lean-spec validate

# è¯¦ç»†åˆ†æ
lean-spec stats --full

# å®¡æŸ¥å¤§å‹Specï¼ˆTokenç„¦ç‚¹ï¼‰
lean-spec tokens --all --include-sub-specs
```

## ä½•æ—¶æ‹†åˆ†

åœ¨ä»¥ä¸‹æƒ…å†µä¸‹æ‹†åˆ†ï¼š
- âœ… Specè¶…è¿‡çº¦ 3,500 ä¸ªTokenï¼ˆä¸Šä¸‹æ–‡ç»æµè­¦å‘Šï¼‰
- âœ… å¤šä¸ªä¸åŒçš„å…³æ³¨ç‚¹ï¼ˆä¸åŒä¸»é¢˜ï¼‰
- âœ… Specéœ€è¦è¶…è¿‡ 10 åˆ†é’Ÿé˜…è¯»
- âœ… é¢‘ç¹ç¼–è¾‘å¯¼è‡´æ··ä¹±

åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ä¸è¦æ‹†åˆ†ï¼š
- âŒ å°‘äºçº¦ 2,000 ä¸ªTokenä¸”ä¸“æ³¨
- âŒ å•ä¸€çš„è¿è´¯æ¦‚å¿µ
- âŒ å¿«é€Ÿé˜…è¯»å’Œç†è§£

## ä½•æ—¶ç®€åŒ–

åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ç®€åŒ–ï¼š
- ç®€å•åŠŸèƒ½çš„è¿‡å¤šç»†èŠ‚
- é‡å¤ä¿¡æ¯
- ä½ä¿¡å™ªæ¯” (Signal-to-Noise)
- æœªæ¥æ¨æµ‹

## ä½•æ—¶æ¥å—è­¦å‘Š

æœ‰æ—¶è­¦å‘Šæ˜¯å¯ä»¥æ¥å—çš„ï¼š
- åœ¨ç§¯æå¼€å‘æœŸé—´æš‚æ—¶è¾ƒé«˜
- éœ€è¦å…¨é¢ç»†èŠ‚çš„å¤æ‚åŠŸèƒ½
- æ‹†åˆ†ä¼šé™ä½æ¸…æ™°åº¦

å§‹ç»ˆç¨åé‡æ–°è¯„ä¼°ã€‚

## æœ€ä½³å®è·µ

1. **å°½æ—©éªŒè¯** - æäº¤å‰
2. **åŠæ—¶ä¿®å¤è­¦å‘Š** - ä¸è¦è®©å®ƒä»¬ç´¯ç§¯
3. **åœ¨çº¦ 3,500 ä¸ªTokenæ—¶æ‹†åˆ†** - å¯¹å¤æ‚åŠŸèƒ½ä½¿ç”¨å­ Spec
4. **è‡ªåŠ¨åŒ–** - æ·»åŠ åˆ° CI/CD ç®¡é“
5. **å®šæœŸå®¡æŸ¥** - æ¯å‘¨å¥åº·æ£€æŸ¥

## ä¸‹ä¸€æ­¥

- **[åˆ›å»ºå’Œç®¡ç†Spec](/zh-Hans/docs/guide/usage/cli/creating-managing)** - åŸºæœ¬æ“ä½œ
- **[æŸ¥æ‰¾Spec](/zh-Hans/docs/guide/usage/cli/finding-specs)** - æœç´¢å’Œå‘ç°
- **[é¡¹ç›®ç®¡ç†](/zh-Hans/docs/guide/usage/cli/project-management)** - çœ‹æ¿è§†å›¾å’Œä¾èµ–å…³ç³»
- **[CLI å‚è€ƒ](/zh-Hans/docs/reference/cli)** - å®Œæ•´å‘½ä»¤æ–‡æ¡£

---

**å‚è€ƒ**ï¼šè¯·å‚é˜…[ç¬¬ä¸€æ€§åŸç†](/zh-Hans/docs/advanced/first-principles)äº†è§£ä¸Šä¸‹æ–‡ç»æµå’ŒTokenç®¡ç†èƒŒåçš„ç†ç”±ã€‚
