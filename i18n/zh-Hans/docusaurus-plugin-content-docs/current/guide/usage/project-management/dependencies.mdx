---
id: 'dependencies'
title: 'ä¾èµ–å…³ç³»'
sidebar_position: 11
---
# ä¾èµ–å…³ç³»

ä½¿ç”¨ LeanSpec çš„ä¾èµ–è·Ÿè¸ªç®¡ç†è§„èŒƒä¹‹é—´çš„å…³ç³»ã€‚

## æ¦‚è¿°

LeanSpec æœ‰ä¸¤ç§ç±»å‹çš„å…³ç³»ï¼š

### `related` - åŒå‘è½¯å¼•ç”¨
- **å«ä¹‰**ï¼šä¿¡æ¯æ€§å…³ç³»ï¼ˆè§„èŒƒæ˜¯è¿æ¥/ç›¸å…³çš„ï¼‰
- **è¡Œä¸º**ï¼šä»ä¸¤ä¾§è‡ªåŠ¨æ˜¾ç¤º
- **ç¬¦å·**ï¼šâŸ·ï¼ˆåŒå‘ç®­å¤´ï¼‰

### `depends_on` - æ–¹å‘é˜»å¡ä¾èµ–
- **å«ä¹‰**ï¼šç¡¬ä¾èµ– - åœ¨ä¾èµ–å®Œæˆä¹‹å‰è§„èŒƒæ— æ³•å¼€å§‹
- **è¡Œä¸º**ï¼šä»…æ–¹å‘æ€§ï¼ˆä»æ¯ä¾§æ˜¾ç¤ºä¸åŒï¼‰
- **ç¬¦å·**ï¼šâ†’ï¼ˆä¾èµ–äºï¼‰å’Œ â†ï¼ˆé˜»å¡ï¼‰

## ç›¸å…³è§„èŒƒ

å¯¹ä¿¡æ¯è¿æ¥ä½¿ç”¨ `related`ï¼š

```yaml
# åœ¨è§„èŒƒ 042 ä¸­
related: [043, 044]
```

åŒæ–¹éƒ½çœ‹åˆ°å…³ç³»ï¼š

```bash
$ lean-spec deps 042
ç›¸å…³è§„èŒƒï¼š
  âŸ· 043-feature-launch [in-progress]
  âŸ· 044-api-update [planned]

$ lean-spec deps 043
ç›¸å…³è§„èŒƒï¼š
  âŸ· 042-error-handling [complete]  # è‡ªåŠ¨æ˜¾ç¤ºï¼
```

**ä½¿ç”¨æ—¶æœºï¼š**
- è§„èŒƒæ¶µç›–ç›¸å…³ä¸»é¢˜æˆ–åŠŸèƒ½
- å·¥ä½œæ˜¯åè°ƒçš„ä½†ä¸é˜»å¡
- ä¸Šä¸‹æ–‡æœ‰å¸®åŠ©ä½†ä¸æ˜¯å¿…éœ€çš„

## é˜»å¡ä¾èµ–

å¯¹ç¡¬ä¾èµ–ä½¿ç”¨ `depends_on`ï¼š

```yaml
# è§„èŒƒ A ä¾èµ–äºè§„èŒƒ B
# åœ¨è§„èŒƒ A ä¸­
depends_on: [spec-b]
```

ä»æ¯ä¾§æ˜¾ç¤ºä¸åŒï¼š

```bash
$ lean-spec deps spec-a
ä¾èµ–äºï¼š
  â†’ spec-b [in-progress]  # A ä¾èµ–äº B

$ lean-spec deps spec-b
è¢«éœ€è¦ï¼š
  â† spec-a [planned]  # B è¢« A éœ€è¦
```

**ä½¿ç”¨æ—¶æœºï¼š**
- è§„èŒƒçœŸæ­£æ— æ³•åœ¨å¦ä¸€ä¸ªå®Œæˆä¹‹å‰å¼€å§‹
- æœ‰æ˜ç¡®çš„ä¾èµ–é“¾
- å·¥ä½œå¿…é¡»æŒ‰ç‰¹å®šé¡ºåºå®Œæˆ

## Deps å‘½ä»¤

æŸ¥çœ‹è§„èŒƒçš„æ‰€æœ‰å…³ç³»ï¼š

```bash
lean-spec deps <spec>
```

æ˜¾ç¤ºï¼š
- æ­¤è§„èŒƒä¾èµ–çš„è§„èŒƒï¼ˆâ†’ï¼‰
- ä¾èµ–æ­¤è§„èŒƒçš„è§„èŒƒï¼ˆâ†ï¼‰
- ç›¸å…³è§„èŒƒï¼ˆâŸ·ï¼‰

### ç¤ºä¾‹è¾“å‡º

```
ğŸ”— 043-feature-launch çš„ä¾èµ–å…³ç³»

ä¾èµ–äºï¼š
  â†’ 042-error-handling [complete] âœ…
  â†’ 041-api-design [complete] âœ…

è¢«éœ€è¦ï¼š
  â† 044-integration-test [planned]
  â† 045-documentation [planned]

ç›¸å…³è§„èŒƒï¼š
  âŸ· 040-performance [in-progress]
  âŸ· 039-security-audit [complete]

çŠ¶æ€ï¼šå‡†å¤‡å¼€å§‹ï¼ˆæ‰€æœ‰ä¾èµ–éƒ½å·²å®Œæˆï¼‰
```

## æœ€ä½³å®è·µ

### 1. é»˜è®¤ä½¿ç”¨ `related`

å¤§å¤šæ•°å…³ç³»æ˜¯ä¿¡æ¯æ€§çš„ï¼Œè€Œä¸æ˜¯é˜»å¡çš„ï¼š

```yaml
# âœ… å¥½ - ç”¨äºä¸Šä¸‹æ–‡çš„ç›¸å…³è§„èŒƒ
related: [feature-a, feature-b]

# âŒ è¿‡åº¦ä½¿ç”¨ - ä¸æ˜¯çœŸæ­£çš„é˜»å¡ä¾èµ–
depends_on: [documentation-spec]
```

### 2. ä¸ºçœŸæ­£çš„é˜»å¡è€…ä¿ç•™ `depends_on`

ä»…åœ¨å·¥ä½œçœŸæ­£æ— æ³•å¼€å§‹æ—¶ä½¿ç”¨ï¼š

```yaml
# âœ… å¥½ - API å¿…é¡»åœ¨é›†æˆä¹‹å‰å­˜åœ¨
depends_on: [api-implementation]

# âŒ å - è¿™äº›å¯ä»¥å¹¶è¡Œå®Œæˆ
depends_on: [docs-update]
```

### 3. é¿å…å¾ªç¯ä¾èµ–

```yaml
# âŒ å - å¾ªç¯ä¾èµ–
# è§„èŒƒ A
depends_on: [spec-b]

# è§„èŒƒ B
depends_on: [spec-a]
```

LeanSpec å°†è­¦å‘Šå¾ªç¯ä¾èµ–ã€‚

### 4. æ›´æ–°ä¸€æ¬¡ï¼Œåˆ°å¤„æ˜¾ç¤º

`related` åªéœ€è¦åœ¨ä¸€ä¸ªè§„èŒƒä¸­ï¼š

```yaml
# âœ… å¥½ - ä»…åœ¨è§„èŒƒ A ä¸­
# è§„èŒƒ A
related: [spec-b]

# è§„èŒƒ B - æ— éœ€åˆ—å‡º A
# ï¼ˆå…³ç³»è‡ªåŠ¨æ˜¾ç¤ºï¼‰
```

## å·¥ä½œæµç¨‹

### å¼€å§‹å·¥ä½œä¹‹å‰

æ£€æŸ¥ä¾èµ–ï¼š

```bash
lean-spec deps <spec>
```

ç¡®ä¿åœ¨å¼€å§‹ä¹‹å‰æ‰€æœ‰ `depends_on` è§„èŒƒéƒ½å·²å®Œæˆã€‚

### è§„åˆ’æœŸé—´

æ˜ å°„å…³ç³»ï¼š

```bash
# æŸ¥çœ‹ç›¸å…³å·¥ä½œ
lean-spec deps feature-spec

# æ£€æŸ¥è¢«é˜»å¡çš„å†…å®¹
lean-spec board --status planned
```

### è¯†åˆ«ç“¶é¢ˆ

æ‰¾åˆ°é˜»å¡å…¶ä»–è§„èŒƒçš„è§„èŒƒï¼š

```bash
# æ£€æŸ¥ä¾èµ–æ­¤è§„èŒƒçš„å†…å®¹
lean-spec deps <in-progress-spec>

# æŸ¥æ‰¾"è¢«éœ€è¦"é¡¹ç›®
```

## ä¾èµ–æ¨¡å¼

### é¡ºåºå·¥ä½œ

```yaml
# é˜¶æ®µ 1
status: complete

# é˜¶æ®µ 2
depends_on: [phase-1]
status: in-progress

# é˜¶æ®µ 3
depends_on: [phase-2]
status: planned
```

### å¸¦åè°ƒçš„å¹¶è¡Œå·¥ä½œ

```yaml
# åŠŸèƒ½ A
related: [feature-b, feature-c]

# åŠŸèƒ½ B
related: [feature-a, feature-c]

# åŠŸèƒ½ C
related: [feature-a, feature-b]
```

### é›†æˆç‚¹

```yaml
# æ ¸å¿ƒåŠŸèƒ½
status: in-progress

# æµ‹è¯•ï¼ˆåœ¨åŠŸèƒ½å®Œæˆå‰è¢«é˜»å¡ï¼‰
depends_on: [core-feature]

# æ–‡æ¡£ï¼ˆå¯ä»¥æ—©å¼€å§‹ï¼Œç›¸å…³ï¼‰
related: [core-feature]
```

## ç®¡ç†æ›´æ”¹

### æ·»åŠ ä¾èµ–

```yaml
# ä¹‹å‰
status: planned

# ä¹‹å
depends_on: [prerequisite-spec]
status: planned  # åœ¨ä¾èµ–å®Œæˆä¹‹å‰æ— æ³•å¼€å§‹
```

### åˆ é™¤ä¾èµ–

å½“ä¸å†éœ€è¦ä¾èµ–æ—¶ï¼š

```yaml
# ä¹‹å‰
depends_on: [old-requirement]

# ä¹‹å
# ï¼ˆåˆ é™¤ depends_on æˆ–æ›¿æ¢ä¸º relatedï¼‰
related: [old-requirement]
```

## æç¤º

- åœ¨å¼€å§‹å·¥ä½œä¹‹å‰æ£€æŸ¥ä¾èµ–
- å¯¹å¤§å¤šæ•°è¿æ¥ä½¿ç”¨ `related`
- ä»…å¯¹çœŸæ­£çš„é˜»å¡è€…ä½¿ç”¨ `depends_on`
- éšç€å­¦ä¹ æ›´æ–°å…³ç³»
- åœ¨è§„åˆ’æœŸé—´å®¡æŸ¥ä¾èµ–é“¾
- é¿å…é•¿ä¾èµ–é“¾ï¼ˆç ´åå¹¶è¡Œå·¥ä½œï¼‰

## äº†è§£æ›´å¤š

- **[çœ‹æ¿ä¸ç»Ÿè®¡](/zh-Hans/docs/guide/usage/project-management/board-stats)** - å¯è§†åŒ–é¡¹ç›®çŠ¶æ€
- **[éªŒè¯](/zh-Hans/docs/guide/usage/project-management/validation)** - æ£€æŸ¥è§„èŒƒè´¨é‡
- **[å‰ç½®å…ƒæ•°æ®æ¨¡å¼](/zh-Hans/docs/reference/frontmatter)** - å®Œæ•´å­—æ®µå‚è€ƒ
