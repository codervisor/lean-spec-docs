---
id: 'migration'
title: 'è¿ç§»åˆ° LeanSpec'
sidebar_position: 3
---

# è¿ç§»åˆ° LeanSpec

æœ¬æŒ‡å—å¸®åŠ©ä½ ä»ç°æœ‰çš„ SDD å·¥å…·å’Œæ–‡æ¡£ç³»ç»Ÿè¿ç§»åˆ° LeanSpecã€‚

## å¿«é€Ÿæ¦‚è¿°

LeanSpec è¿ç§»ä¸»è¦å…³æ³¨ä¸¤ä¸ªæ–¹é¢ï¼š

1. **å…ƒæ•°æ®/Frontmatter**ï¼ˆä¸»è¦ï¼‰- ä½¿ç”¨ `lean-spec backfill` ä» git å†å²ä¸­æå–
2. **æ–‡ä»¶å¤¹ç»„ç»‡**ï¼ˆå› å·¥å…·è€Œå¼‚ï¼‰- å–å†³äºä½ çš„æºå·¥å…·

**å¥½æ¶ˆæ¯**ï¼šLeanSpec å¯¹å†…å®¹æ ¼å¼å¾ˆçµæ´»â€”â€”ä½ å¯ä»¥ä¿ç•™ç°æœ‰çš„å†™ä½œé£æ ¼ï¼

## æŒ‰æºå·¥å…·åˆ†ç±»çš„è¿ç§»å¤æ‚åº¦

### GitHub spec-kitï¼ˆæœ€ç®€å•ï¼‰âœ…

**æº**ï¼š`.specify/specs/`

**å·²ç»å…¼å®¹ï¼** spec-kit ä½¿ç”¨ç›¸åŒçš„æ–‡ä»¶å¤¹ç»“æ„ï¼ˆ`###-name/`ï¼‰ã€‚

**è¿ç§»æ­¥éª¤**ï¼š
```bash
# 1. ä» .specify/specs ç§»åŠ¨åˆ° specs/
mv .specify/specs specs/

# 2. é‡å‘½å spec.md â†’ README.md
find specs -name 'spec.md' -execdir mv {} README.md \;

# 3. ä» git å†å²ç”Ÿæˆ frontmatter
lean-spec backfill --assignee --all

# 4. éªŒè¯
lean-spec validate
lean-spec board
```

**æ—¶é—´**ï¼š20 ä¸ª Spec çº¦ 5 åˆ†é’Ÿ

### OpenSpecï¼ˆä¸­ç­‰ï¼‰âš ï¸

**æº**ï¼š`openspec/specs/` + `openspec/changes/archive/`

**æŒ‘æˆ˜**ï¼šåˆå¹¶å½“å‰ Spec å’Œå½’æ¡£å˜æ›´çš„å•ç‹¬ç›®å½•ã€‚

**è¿ç§»æ­¥éª¤**ï¼š
```bash
# 1. å¤åˆ¶å¹¶åˆå¹¶ç›®å½•
cp -r openspec/specs/* specs/
cp -r openspec/changes/archive/* specs/

# 2. æŒ‰é¡ºåºé‡æ–°ç¼–å· Spec
mv specs/auth specs/001-user-authentication
mv specs/api-gateway specs/002-api-gateway

# 3. é‡å‘½å spec.md â†’ README.md
find specs -name 'spec.md' -execdir mv {} README.md \;

# 4. ä» git å†å²ç”Ÿæˆ frontmatter
lean-spec backfill --assignee --all

# 5. éªŒè¯
lean-spec validate
lean-spec board
```

**æ—¶é—´**ï¼š20 ä¸ª Spec çº¦ 15-30 åˆ†é’Ÿ

### ADR/RFC é›†åˆï¼ˆå¤æ‚ï¼‰ğŸ”´

**æº**ï¼šå¹³é¢ markdown æ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼Œ`docs/adr/####-title.md`ï¼‰

**æŒ‘æˆ˜**ï¼šå°†å¹³é¢æ–‡ä»¶é‡ç»„ä¸ºæ–‡ä»¶å¤¹å±‚æ¬¡ç»“æ„ã€‚

**è¿ç§»æ­¥éª¤**ï¼š
```bash
# 1. ä¸ºæ¯ä¸ª ADR åˆ›å»ºæ–‡ä»¶å¤¹
mkdir -p specs/001-use-microservices
mv docs/adr/0001-use-microservices.md specs/001-use-microservices/README.md

mkdir -p specs/002-event-sourcing-audit
mv docs/adr/0042-event-sourcing-audit.md specs/002-event-sourcing-audit/README.md

# ä¸ºæ‰€æœ‰ ADR é‡å¤...

# 2. ä» git å†å²ç”Ÿæˆ frontmatter
lean-spec backfill --assignee --all

# 3. éªŒè¯
lean-spec validate
lean-spec board
```

**æ—¶é—´**ï¼š20 ä¸ª Spec çº¦ 30-60 åˆ†é’Ÿ

## `lean-spec backfill` å‘½ä»¤

è¿™æ˜¯ä½ ä» git å†å²ç”Ÿæˆ frontmatter çš„ä¸»è¦è¿ç§»å·¥å…·ã€‚

### åŸºæœ¬ç”¨æ³•

```bash
# ä» git å†å²æå–æ—¶é—´æˆ³
lean-spec backfill

# åŒ…å«æ¥è‡ª git ä½œè€…çš„è´Ÿè´£äºº
lean-spec backfill --assignee

# æå–æ‰€æœ‰å¯ç”¨å…ƒæ•°æ®
lean-spec backfill --all

# é¢„è§ˆæ›´æ”¹è€Œä¸åº”ç”¨
lean-spec backfill --dry-run
```

### å®ƒæå–ä»€ä¹ˆ

**ä» git å†å²**ï¼š
- `created_at` - é¦–æ¬¡æäº¤æ—¶é—´æˆ³
- `updated_at` - æœ€åæäº¤æ—¶é—´æˆ³
- `completed_at` - çŠ¶æ€æ›´æ”¹ä¸º 'complete' çš„æ—¶é—´
- `assignee` - é¦–æ¬¡æäº¤ä½œè€…ï¼ˆä½¿ç”¨ `--assignee`ï¼‰
- `transitions` - å®Œæ•´çŠ¶æ€æ›´æ”¹å†å²ï¼ˆä½¿ç”¨ `--transitions`ï¼‰

**ä¹‹åæ‰‹åŠ¨è®¾ç½®**ï¼š
- `priority` - é»˜è®¤ä¸º 'medium'ï¼Œä½¿ç”¨ `lean-spec update --priority` è°ƒæ•´
- `tags` - é»˜è®¤ä»æ–‡ä»¶å¤¹åç§°è·å–ï¼Œä½¿ç”¨ `lean-spec update --tags` è°ƒæ•´
- `status` - ä»å†…å®¹/å†å²æ¨æ–­ï¼Œå¿…è¦æ—¶è°ƒæ•´

### ç¤ºä¾‹è¾“å‡º

```yaml
---
status: complete
created_at: '2024-03-15T10:23:45Z'
updated_at: '2024-11-08T14:30:12Z'
completed_at: '2024-03-20T16:45:00Z'
assignee: Alice Chen
priority: high
tags:
  - product
  - mvp
---
```

## ä½¿ç”¨ `lean-spec migrate`

å¯¹äºæ›´å¤æ‚çš„è¿ç§»æˆ– AI è¾…åŠ©å·¥ä½œæµï¼Œä½¿ç”¨ `lean-spec migrate` å‘½ä»¤ã€‚

### æ‰‹åŠ¨æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰

ä¸ºä»»ä½• AI å·¥å…·è¾“å‡ºè¿ç§»è¯´æ˜ï¼š

```bash
lean-spec migrate ./docs/adr/
```

è¿™ä¼šç”Ÿæˆä¸€ä¸ªæç¤ºï¼Œä½ å¯ä»¥å¤åˆ¶åˆ° ChatGPTã€Claudeã€Copilot æˆ–ä»»ä½• AI åŠ©æ‰‹ï¼š

```
ä½ æ­£åœ¨å¸®åŠ©å°† Spec æ–‡æ¡£è¿ç§»åˆ° LeanSpec æ ¼å¼ã€‚

æºï¼š./docs/adr/ï¼ˆæ‰¾åˆ° 23 ä¸ªæ–‡æ¡£ï¼‰

ä½ çš„ä»»åŠ¡ï¼š
1. åˆ†ææºæ–‡æ¡£
2. æå–å…ƒæ•°æ®ï¼ˆæ ‡é¢˜ã€çŠ¶æ€ã€æ—¥æœŸã€ä¼˜å…ˆçº§ï¼‰
3. å¯¹äºæ¯ä¸ªæ–‡æ¡£ï¼š
   - è¿è¡Œï¼šlean-spec create <name>
   - è¿è¡Œï¼šlean-spec update <name> --status <status>
   - è¿è¡Œï¼šlean-spec update <name> --priority <priority>
   - ç¼–è¾‘å†…å®¹ä»¥åŒ¹é… LeanSpec ç»“æ„
4. ä¿ç•™å†³ç­–ç†ç”±å’Œå…³ç³»
5. ä¿æŒ Spec åœ¨ 400 è¡Œä»¥ä¸‹

ç°åœ¨æ‰§è¡Œè¿ç§»å‘½ä»¤ã€‚
```

### AI è¾…åŠ©æ¨¡å¼

ä½¿ç”¨ AI CLI å·¥å…·è¿›è¡Œè‡ªåŠ¨è¿ç§»ï¼š

```bash
# ä½¿ç”¨ GitHub Copilot CLI
lean-spec migrate ./docs/adr/ --with copilot

# ä½¿ç”¨ Claude CLI
lean-spec migrate ./docs/adr/ --with claude

# ä½¿ç”¨ Gemini CLI
lean-spec migrate ./docs/adr/ --with gemini
```

**å…ˆå†³æ¡ä»¶**ï¼š
- å¿…é¡»å®‰è£… AI CLI å·¥å…·
- å·¥å…·å¿…é¡»ç»è¿‡èº«ä»½éªŒè¯/é…ç½®

**é€‰é¡¹**ï¼š
```bash
# é¢„è§ˆè€Œä¸æ›´æ”¹
lean-spec migrate ./docs/adr/ --dry-run

# åˆ†æ‰¹å¤„ç†
lean-spec migrate ./docs/adr/ --batch-size 10

# è¿ç§»åè‡ªåŠ¨è¿è¡Œ backfill
lean-spec migrate ./docs/adr/ --backfill
```

## è¿ç§»æ£€æŸ¥æ¸…å•

ä½¿ç”¨æ­¤æ£€æŸ¥æ¸…å•ç¡®ä¿å®Œæ•´è¿ç§»ï¼š

### è¿ç§»å‰

- [ ] å¤‡ä»½ç°æœ‰æ–‡æ¡£
- [ ] å®¡æŸ¥æºæ–‡ä»¶å¤¹ç»“æ„
- [ ] æ£€æŸ¥ git å†å²æ˜¯å¦å¯ç”¨ï¼ˆç”¨äº `backfill`ï¼‰
- [ ] å®‰è£… LeanSpecï¼š`npm install -g lean-spec`
- [ ] åˆå§‹åŒ– LeanSpecï¼š`lean-spec init`

### è¿ç§»æœŸé—´

- [ ] é‡ç»„æ–‡ä»¶å¤¹ï¼ˆå¦‚æœä½ çš„æºå·¥å…·éœ€è¦ï¼‰
- [ ] å°†ä¸» Spec æ–‡ä»¶é‡å‘½åä¸º `README.md`
- [ ] è¿è¡Œ `lean-spec backfill --assignee --all`
- [ ] å¿…è¦æ—¶æ‰‹åŠ¨è°ƒæ•´ä¼˜å…ˆçº§
- [ ] å¿…è¦æ—¶æ‰‹åŠ¨è°ƒæ•´æ ‡ç­¾
- [ ] éªŒè¯çŠ¶æ€å€¼æ˜¯å¦æ­£ç¡®

### è¿ç§»å

- [ ] è¿è¡Œ `lean-spec validate` æ£€æŸ¥é—®é¢˜
- [ ] è¿è¡Œ `lean-spec board` å¯è§†åŒ–è¿ç§»
- [ ] æµ‹è¯• Spec å‘ç°ï¼š`lean-spec list`ã€`lean-spec search`
- [ ] æ›´æ–°ä»»ä½•æŸåçš„å…³ç³»ï¼ˆ`depends_on`ã€`related`ï¼‰
- [ ] è¿ç§»ç³»ç»Ÿæç¤ºï¼ˆAGENTS.mdã€.cursorrulesï¼‰

## è¿ç§»ç³»ç»Ÿæç¤º

ä¸è¦å¿˜è®°è¿ç§» AI æŒ‡å¯¼æ–‡ä»¶ï¼

### å¸¸è§æºæ–‡ä»¶

```
# æºå·¥å…·é€šå¸¸æœ‰ï¼š
openspec/AGENTS.md
.cursorrules
.github/copilot-instructions.md
CLAUDE.md
```

### LeanSpec ä½¿ç”¨

```
AGENTS.mdï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ï¼‰
```

### è¿ç§»ç­–ç•¥

1. **å®¡æŸ¥æºå·¥å…·çš„ç°æœ‰ AI æŒ‡å¯¼**
2. **ä¿ç•™é¡¹ç›®ç‰¹å®šçš„çº¦å®š**
3. **ä¸ LeanSpec AGENTS.md åˆå¹¶**ï¼ˆç”± `lean-spec init` åˆ›å»ºï¼‰
4. **æ›´æ–°å‘½ä»¤**ï¼š`openspec` â†’ `lean-spec` ç­‰
5. **ä¿æŒå›¢é˜Ÿå·¥ä½œæµç¨‹å®Œæ•´**

è¿™ç¡®ä¿ AI ä»£ç†åœ¨è¿‡æ¸¡æœŸé—´ä¿æŒè¿ç»­æ€§ã€‚

## å¸¸è§è¿ç§»åœºæ™¯

### åœºæ™¯ 1ï¼šspec-kit æ¯ä¸ªåŠŸèƒ½æœ‰å¤šä¸ªæ–‡ä»¶

**æº**ï¼š
```
.specify/specs/
â””â”€â”€ 001-task-management/
    â”œâ”€â”€ spec.md
    â”œâ”€â”€ plan.md
    â”œâ”€â”€ tasks.md
    â””â”€â”€ contracts/
        â””â”€â”€ api.yml
```

**é€‰é¡¹**ï¼š

**é€‰é¡¹ Aï¼šä¿ç•™å­ Spec**ï¼ˆæ¨èç”¨äºå¤æ‚åŠŸèƒ½ï¼‰
```bash
mv .specify/specs specs/
mv specs/001-task-management/spec.md specs/001-task-management/README.md
# ä¿æŒ plan.mdã€tasks.mdã€contracts/ ä¸å˜
lean-spec backfill --assignee --all
```

**é€‰é¡¹ Bï¼šåˆå¹¶**ï¼ˆç”¨äºæ›´ç®€å•çš„åŠŸèƒ½ï¼‰
```bash
# æ‰‹åŠ¨å°† spec.md + plan.md åˆå¹¶åˆ° README.md
# ç„¶åè¿è¡Œ backfill
lean-spec backfill --assignee --all
```

### åœºæ™¯ 2ï¼šOpenSpec ä½¿ç”¨å•ç‹¬çš„ç›®å½•

**æº**ï¼š
```
openspec/
â”œâ”€â”€ specs/auth/spec.md
â””â”€â”€ changes/archive/2024-11-15-oauth/
```

**è¿ç§»**ï¼š
```bash
# 1. åˆå¹¶ç›®å½•
cp -r openspec/specs/* specs/
cp -r openspec/changes/archive/* specs/

# 2. é‡æ–°ç¼–å·å’Œé‡å‘½å
mv specs/auth specs/001-authentication
find specs -name 'spec.md' -execdir mv {} README.md \;

# 3. Backfill å…ƒæ•°æ®
lean-spec backfill --assignee --all

# 4. æ›´æ–° AGENTS.md å‘½ä»¤
sed -i 's/openspec/lean-spec/g' AGENTS.md
```

### åœºæ™¯ 3ï¼šå¹³é¢ ADR æ–‡ä»¶

**æº**ï¼š
```
docs/adr/
â”œâ”€â”€ 0001-use-microservices.md
â”œâ”€â”€ 0042-event-sourcing.md
â””â”€â”€ 0105-graphql-api.md
```

**è¿ç§»**ï¼š
```bash
# 1. åˆ›å»ºæ–‡ä»¶å¤¹å±‚æ¬¡ç»“æ„
for file in docs/adr/*.md; do
  name=$(basename "$file" .md | sed 's/^[0-9]*-//')
  num=$(ls -1 specs/ | wc -l | xargs printf "%03d")
  mkdir -p "specs/${num}-${name}"
  mv "$file" "specs/${num}-${name}/README.md"
done

# 2. Backfill å…ƒæ•°æ®
lean-spec backfill --assignee --all
```

## ä»å¤–éƒ¨ç³»ç»Ÿè¿ç§»

å¯¹äº Linearã€Jiraã€Confluence æˆ– Notion ç­‰ç³»ç»Ÿï¼š

### å…ˆå¯¼å‡º

1. **ä»ç³»ç»Ÿå¯¼å‡ºä¸º markdown æˆ– JSON**
2. **å°†å¯¼å‡ºå†…å®¹æ”¾åœ¨ç›®å½•ä¸­**ï¼ˆä¾‹å¦‚ï¼Œ`./exports/`ï¼‰
3. **å¯¹å¯¼å‡ºçš„æ–‡ä»¶è¿è¡Œè¿ç§»**

```bash
# ä» Linearã€Jira ç­‰å¯¼å‡ºåˆ° ./exports/
lean-spec migrate ./exports/
```

### ä¸ºä»€ä¹ˆä¸ç›´æ¥ API é›†æˆï¼Ÿ

LeanSpec æœ‰æ„ä¸ä¸å¤–éƒ¨ç³»ç»Ÿ API é›†æˆï¼Œå› ä¸ºï¼š

- **å®‰å…¨æ€§**ï¼šä¸éœ€è¦å‡­è¯ç®¡ç†
- **ç®€å•æ€§**ï¼šæ— éœ€èº«ä»½éªŒè¯ã€API å¯†é’¥ã€é€Ÿç‡é™åˆ¶
- **ç»´æŠ¤æ€§**ï¼šå¤–éƒ¨ API ä¼šæ›´æ”¹ã€æŸåï¼Œéœ€è¦æ›´æ–°
- **éšç§**ï¼šä½ çš„æ•°æ®ä¿æŒæœ¬åœ°

å¯¼å‡ºå·¥ä½œæµå·²ç»å»ºç«‹å®Œå–„ï¼Œè®©ä½ ä¿æŒæ§åˆ¶ã€‚

## æ•…éšœæ’é™¤

### é—®é¢˜ï¼šæ²¡æœ‰å¯ç”¨çš„ git å†å²

**è§£å†³æ–¹æ¡ˆ**ï¼šæ‰‹åŠ¨è®¾ç½®æ—¶é—´æˆ³æˆ–ä½¿ç”¨å½“å‰æ—¥æœŸ
```bash
# backfill å°†ä¸ºæ²¡æœ‰ git å†å²çš„ Specä½¿ç”¨å½“å‰æ—¶é—´æˆ³
lean-spec backfill --assignee --all

# æˆ–æ‰‹åŠ¨è®¾ç½®
lean-spec update 001 --priority high
```

### é—®é¢˜ï¼šé‡å¤çš„åºåˆ—å·

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ `lean-spec check` æ£€æµ‹å†²çª
```bash
lean-spec check
# é€šè¿‡æ‰‹åŠ¨é‡å‘½åæ–‡ä»¶å¤¹ä¿®å¤å†²çª
```

### é—®é¢˜ï¼šå†…å®¹æ ¼å¼ä¸æ¨¡æ¿ä¸åŒ¹é…

**å¥½æ¶ˆæ¯**ï¼šLeanSpec å¾ˆçµæ´»ï¼ä¿ç•™ä½ ç°æœ‰çš„æ ¼å¼ã€‚

ä½ ä¸éœ€è¦é‡å†™å†…å®¹æ¥åŒ¹é…ç‰¹å®šç»“æ„ã€‚LeanSpec çš„é¦–è¦åŸåˆ™æ˜¯"æ„å›¾é‡äºå®ç°"â€”â€”åªè¦ Spec æ¸…æ™°åœ°ä¼ è¾¾æ„å›¾ï¼Œç¡®åˆ‡çš„æ ¼å¼å¹¶ä¸é‡è¦ã€‚

### é—®é¢˜ï¼šè¿ç§»åå…³ç³»æŸå

**è§£å†³æ–¹æ¡ˆ**ï¼šæ‰‹åŠ¨æ›´æ–° `depends_on` å’Œ `related` å­—æ®µ
```bash
# ä¸ºæ¯ä¸ª Spec ç¼–è¾‘ README.md ä¸­çš„ frontmatter
---
depends_on: [002, 005]
related: [010, 012]
---

# éªŒè¯å…³ç³»
lean-spec deps 001
```

## è¿ç§»æ—¶é—´ä¼°è®¡

åŸºäºå®é™…è¿ç§»ï¼š

| æºå·¥å…· | Spec æ•° | æ—¶é—´ | å¤æ‚åº¦ |
|-------------|-------|------|------------|
| spec-kit | 20 | 5 åˆ†é’Ÿ | âœ… ç®€å• |
| spec-kit | 100 | 15 åˆ†é’Ÿ | âœ… ç®€å• |
| OpenSpec | 20 | 20 åˆ†é’Ÿ | âš ï¸ ä¸­ç­‰ |
| OpenSpec | 100 | 60 åˆ†é’Ÿ | âš ï¸ ä¸­ç­‰ |
| ADR | 20 | 45 åˆ†é’Ÿ | ğŸ”´ å¤æ‚ |
| ADR | 100 | 3 å°æ—¶ | ğŸ”´ å¤æ‚ |

**æ³¨æ„**ï¼šæ—¶é—´åŒ…æ‹¬ backfill å’ŒéªŒè¯ã€‚å¤æ‚çš„è¿ç§»å¯èƒ½éœ€è¦æ‰‹åŠ¨è°ƒæ•´ã€‚

## è·å–å¸®åŠ©

éœ€è¦è¿ç§»æ”¯æŒï¼Ÿ

- **GitHub Issues**ï¼š[æŠ¥å‘Šè¿ç§»é—®é¢˜](https://github.com/codervisor/lean-spec/issues)
- **ç¤ºä¾‹**ï¼šæŸ¥çœ‹ [spec 063](https://web.lean-spec.dev/specs/063-migration-from-existing-tools) è·å–è¯¦ç»†ç¤ºä¾‹
- **å‘½ä»¤å¸®åŠ©**ï¼šè¿è¡Œ `lean-spec migrate --help` æˆ– `lean-spec backfill --help`

## ä¸‹ä¸€æ­¥

è¿ç§»åï¼š

1. **å­¦ä¹ å·¥ä½œæµ**ï¼š[åˆ›å»ºå’Œç®¡ç† Spec](/docs/guide/usage/cli/creating-managing)
2. **è®¾ç½® AI é›†æˆ**ï¼š[MCP é›†æˆ](/docs/guide/usage/mcp-integration)
3. **ç†è§£åŸåˆ™**ï¼š[ç¬¬ä¸€æ€§åŸç†](/docs/advanced/first-principles)
4. **ä¸ºå›¢é˜Ÿé…ç½®**ï¼š[é…ç½®å‚è€ƒ](/docs/reference/config)
