---
title: 什么是 LeanSpec？
sidebar_position: 1
---
# 什么是 LeanSpec？

LeanSpec 是一种轻量级方法论，用于编写人类和 AI 代理都能执行的规范。它专注于捕获 **意图**、**约束** 和 **成功标准**，而不让读者陷入繁文缛节。

:::tip 时间紧张？
浏览标注为 **为什么重要** 的部分，在深入了解之前先理解每个概念的目的。
:::

## 为什么需要 LeanSpec

### 传统规范无法满足新约束
- **太长** → 超出人类/AI 工作记忆（违反上下文经济原则）
- **太详细** → 快速过时，变得不可信
- **太死板** → 在需要迭代时阻碍进展
- **太模糊** → AI 无法执行，人类不断提出后续问题

### AI 驱动开发带来的鸿沟
人类以目标思考（"让仪表板更快"）。AI 代理需要明确的护栏（"在 Redis 中缓存数据，目标 &lt;100ms p95"）。LeanSpec 通过结构化但可读的文档弥合这一鸿沟。

## LeanSpec 原则（入门版）
1. **上下文经济** — 将每个文件保持在约 2,000 令牌以内，以适应工作记忆。
2. **信噪比** — 每句话都应该为决策提供信息。
3. **意图优于实现** — 捕获为什么和是什么；让如何做在执行过程中出现。
4. **跨越鸿沟** — 编写让人类和 AI 都能理解相同目标的文档。
5. **渐进式披露** — 从简单开始；在出现问题时添加子规范或字段。

你不必在第一天就记住这些。当规范感觉臃肿或不清楚时，将它们用作检查清单。

## LeanSpec 解决什么问题？
- 人类和 AI 助手之间 **缺乏共享上下文**
- 聊天记录消失时 **决策丢失**
- 没有人愿意维护的 **过度膨胀文档**
- **所有权不清**，因为状态和元数据分散在其他地方

LeanSpec 的答案：保持规范简短、有目的性和结构化。CLI 和 MCP 服务器使它们易于搜索、验证并交给 AI 代理。

## 何时编写规范 {#when-to-write-a-spec}
在以下情况下编写或更新规范：
- 意图需要澄清或存在多种解释
- 权衡、约束或成功标准很重要
- 工作跨越多个文件/系统或影响其他团队
- AI 代理将实现功能的一部分
- 决策应该在聊天或会议之外持续存在

## 何时跳过
在以下情况下跳过（或推迟）规范：
- 修复明显的 bug，且修复方法明确
- 执行机械式重构（重命名、格式化、依赖升级）
- 原型设计以学习——如果它转为实际工作，则捕获结果

## LeanSpec + AI
- **创作**：提供意图；让 AI 起草结构；你编辑以确保清晰。
- **实现**：将规范提供给 AI，以便它可以自主规划和修改代码。
- **记忆**：规范作为持久知识。代理在重新参与时通过 MCP 服务器重新加载它们。

## 下一步
- 学习[核心术语](/docs/guide/terminology/spec)
- 深入了解[理解 LeanSpec](/docs/guide/understanding-leanspec)，了解规范在工作期间如何演变
- 探索 [AI 辅助教程](/docs/tutorials/writing-first-spec-with-ai)以获得引导式工作流程
