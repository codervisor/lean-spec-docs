# 为什么选择 LeanSpec？

## 简要回答

**LeanSpec 是一个轻量级的 SDD（规范驱动开发）框架，通过人机对齐优化开发速度。**

**核心优势：**
- **轻量级** - 最小化设置，无重度依赖
- **简单性** - 从一个文件开始，按需增长
- **敏捷性** - 直接编辑，无多步骤工作流
- **适应性** - 适用于任何编辑器、AI 工具、团队规模或组织文化
- **全面工具** - CLI、MCP 服务器、验证、可视化

**为什么这能提升速度：**

我们的第一原则（上下文经济、信噪比、意图优于实现）带来：
- **高度人机对齐** - 规范适合上下文窗口，AI 理解意图
- **低上下文腐化** - 以意图为重点的规范随代码演化保持相关性
- **低认知负荷** - 控制长度（通常在 300 行以下），易于审查和维护

**结果：更好的质量 → 更少返工 → 更高速度。**

### 与其他 SDD 框架比较

**像 [Spec Kit](https://github.com/github/spec-kit) 和 [OpenSpec](https://github.com/Fission-AI/OpenSpec) 这样的工具**也是帮助构建 AI 编码工作流的 SDD 框架。

#### 对比 Spec Kit

**[Spec Kit](https://github.com/github/spec-kit)**（由 GitHub 开发）提供了一个结构化的多步骤工作流：constitution → specify → plan → tasks → implement。

**Spec Kit 优势：**
- ✅ 具有章程和原则的结构化治理
- ✅ 为企业团队提供清晰的多步骤工作流
- ✅ 与 VS Code 原生集成，Copilot Chat 中有快速操作按钮
- ✅ 丰富的斜杠命令集成
- ✅ 强烈关注质量和测试标准

**权衡：**
- **刚性规范格式**为人类审查者创造认知负担
- **较长上下文**（constitution + spec + plan + tasks）可能降低 AI 性能
- **流程开销**，编码前需要 5 个必需步骤
- 每个功能**多个文件**增加导航复杂性
- **规定性结构**较难适应不同的团队文化

**最适合**：需要结构化治理和正式规划阶段的企业团队。

**LeanSpec 的优势**：**轻量级且适应性强**。灵活结构（单文件或按需子规范），300 行以下以获得最佳 AI/人类性能。渐进式披露而非规定性流程。无必需工作流——适应您的团队文化。

#### 对比 OpenSpec

**[OpenSpec](https://github.com/Fission-AI/OpenSpec)** 将规范视为演化的提案，具有变更跟踪、提案文件夹和基于差异的工作流。

**OpenSpec 优势：**
- ✅ 明确的变更提案供团队审查
- ✅ 当前状态和拟议变更之间的清晰分离
- ✅ 适合棕地项目和跨规范更新
- ✅ 结构化差异格式（ADDED/MODIFIED/REMOVED）

**权衡：**
- **无编号系统** - 难以在长期项目管理中引用规范
- **刚性工作流** - 需要提案 → 应用 → 归档步骤
- **刚性模板** - 结构化差异格式可能不适合所有用例
- **长系统提示** - AGENTS.md &gt;400 行可能随时间导致上下文腐化
- **斜杠命令依赖** - 需要特定提示文件（openspec-xxx.prompt.md）

**最适合**：希望在合并到规范真实源之前使用审查工作流进行正式变更提案的团队。

**LeanSpec 的优势**：**简单性和敏捷性**。编号规范便于引用。使用 git 版本控制直接编辑。无提案，无变更文件夹，无归档步骤。灵活模板。简洁的 AGENTS.md（300 行以下）。像编辑代码一样编辑规范——提交、推送、完成。

---

### 与内置规范驱动开发的 AI IDE 比较

**[Kiro](https://kiro.dev)** 是一个完整的 AI IDE，内置规范驱动开发、自主代理和自动驾驶模式。

**Kiro 优势：**
- ✅ 集成的规范驱动开发体验
- ✅ 自主代理和自动驾驶模式
- ✅ 内置上下文管理和代理钩子
- ✅ 编辑器内无缝 AI 交互
- ✅ 后台任务自动化（测试、文档等）

**权衡：**
- **IDE 锁定** - 必须从当前编辑器切换
- **订阅成本** - 专业使用每月 $20-40
- **学习曲线** - 新编辑器、工作流和键盘快捷键
- **较少控制** - 固执己见的自动驾驶行为

**最适合**：想要完整 AI 优先 IDE 体验，内置 SDD 支持，并愿意切换编辑器的开发者。

**LeanSpec 的优势**：**适应性和灵活性**。编辑器无关——适用于任何 AI 工具（Copilot、Claude、Cursor、Windsurf 等）和任何编辑器（VS Code、JetBrains、Vim、Emacs）。保持现有工作流、团队文化和肌肉记忆。只需添加 CLI + MCP。

---

### 与文档集合（RFC/ADR）比较

**RFC（征求意见）**和 **ADR（架构决策记录）**是记录技术决策和设计的传统方法。

**为什么不使用它们？**
- **无工具**：手动文件管理，无可视化，无搜索
- **结构不一致**：每个团队发明自己的格式
- **难以导航**：扁平文件夹（例如 `docs/adr/0042-feature.md`）或分散位置
- **无 AI 优化**：不是为 AI 上下文窗口设计的（通常 1000+ 行）

**何时使用它们**：当您只需要轻量级 markdown 文档而不需要工具且不需要 AI 辅助时。

**LeanSpec 的优势**：**敏捷性和工具**。用于管理的 CLI/MCP 工具、一致的结构、AI 优化（300 行以下）、看板、搜索、验证和元数据跟踪。RFC/ADR 哲学 + 现代工具。

---

### 与项目管理工具比较

**传统 PM 工具如 [Jira](https://www.atlassian.com/software/jira)、[Azure DevOps](https://azure.microsoft.com/en-us/products/devops)、[Linear](https://linear.app)** 专为任务跟踪和团队协调设计。

**PM 工具优势：**
- ✅ 出色的任务跟踪和冲刺规划
- ✅ 团队协调和可见性
- ✅ 与其他工具的丰富集成
- ✅ 工作流自动化和通知

**技术规范的权衡：**
- **更高延迟** - 需要 API/MCP 配置以编程方式管理工作项
- **额外基础设施** - 需要身份验证、速率限制、API 维护
- **非 markdown** - 富文本编辑器无法适应 AI 上下文窗口
- **错误抽象** - 为工单/任务优化，而非技术规范
- **上下文切换** - 强制您离开代码编辑器和仓库
- **无版本控制** - 变更不与代码一起在 git 中

**最适合**：项目管理、冲刺规划、错误跟踪、团队协调。**与 LeanSpec 一起使用**，而非代替。

**LeanSpec 的优势**：**低延迟和集成**。规范存在于您的仓库中——零 API 开销。与代码一起版本控制。CLI + MCP 即时访问。Markdown 原生用于 AI 工具。补充 PM 工具——使用 Jira 进行任务跟踪，使用 LeanSpec 进行技术规范。

---

### 与 Vibe Coding 比较

**Vibe coding**（无规范，只是与 AI 聊天）是开始编码的最快方式。

**Vibe coding 优势：**
- ✅ 零开销——立即开始编码
- ✅ 最大灵活性和速度
- ✅ 非常适合快速原型
- ✅ 自然的对话流程

**权衡：**
- 无团队对齐或共享的真实源
- 决策在聊天历史中丢失
- 难以让新团队成员入职
- 没有书面规范，AI 可能会产生幻觉
- 无可重复性或文档

**最适合**：单人开发者、一次性原型、快速实验。

**LeanSpec 的优势**：**最小结构实现最大敏捷性**。足够的规范以对齐团队并指导 AI，无重度流程。获得 80% 的 vibe coding 速度和 80% 的传统规范优势。在混乱和官僚主义之间架起桥梁。

---

## 功能比较

| 功能 | LeanSpec | Spec Kit | OpenSpec | Kiro | PM 工具（Jira） | Vibe Coding |
|---------|----------|----------|----------|------|-----------------|-------------|
| **类型** | SDD 框架 | SDD 框架 | SDD 框架 | AI IDE + SDD | 项目管理 | 无结构 |
| **规范结构** | ✅ 灵活 | ⚠️ 刚性格式 | ⚠️ 刚性模板 | ✅ 内置 | ❌ 基于任务 | ❌ 无 |
| **AI 优化** | ✅ 控制长度 | ⚠️ 较长上下文 | ⚠️ 长系统提示 | ✅ 原生 | ❌ 富文本 | ✅ 聊天 |
| **工作流** | 灵活（见[编写模式](/zh-Hans/docs/guide/usage/ai-assisted/writing-specs-with-ai#三种模式)）| 5 步流程 | 提案→归档 | 自主代理 | 工单/冲刺 | 提示 |
| **访问延迟** | ✅ 即时（本地） | ✅ 即时（本地） | ✅ 即时（本地） | ✅ IDE 原生 | ❌ API/MCP 配置 | ✅ 聊天 |
| **编号** | ✅ 是 | ✅ 是 | ❌ 否 | ⚠️ IDE 管理 | ✅ 工单 ID | ❌ 无 |
| **CLI 工具** | ✅ 功能完整 | ✅ 斜杠命令 | ✅ 斜杠命令 | ✅ 内置 | ❌ Web UI | ❌ 无 |
| **MCP 服务器** | ✅ 是 | ❌ 否 | ❌ 否 | ⚠️ 不同 | ⚠️ 需要配置 | ❌ 否 |
| **编辑器** | 任意 | 任意 | 任意 | 锁定（Kiro） | Web/任意 | 任意 |
| **认知负荷** | ✅ 低 | ⚠️ 较高 | ⚠️ 较高 | ⚠️ 需学习新 IDE | ⚠️ 不同 | ✅ 非常低 |
| **适应性** | ✅ 高 | ⚠️ 规定性 | ⚠️ 规定性 | ⚠️ IDE 锁定 | ⚠️ 组织特定 | ✅ 非常高 |
| **最适合** | 1-50+ 团队（可与 PM 工具扩展） | 企业 SDD | 正式提案 | 单人/小团队 | 大型组织 | 单人原型 |

---

## 何时选择 LeanSpec

### ✅ 选择 LeanSpec 当您重视：
- **轻量级** - 最小化设置，无重度依赖
- **简单性** - 灵活结构，从一个文件开始
- **敏捷性** - 直接编辑，无多步骤工作流
- **适应性** - 适用于任何编辑器、AI 工具、团队文化或组织结构
- **低延迟** - 本地规范，即时访问，无 API 开销
- **高速度** - 低认知负荷 + 高 AI 对齐 = 更少返工
- **全面工具** - CLI、MCP、验证、可视化、搜索

### 🔄 选择替代方案当您需要：
- **企业治理**：Spec Kit 用于规定性 5 步流程，包含章程/原则
- **正式变更提案**：OpenSpec 用于提案 → 审查 → 归档工作流
- **集成 AI IDE**：Kiro 用于一体化 SDD + 自主代理（如果愿意切换编辑器）
- **项目管理**：Jira/Linear/ADO 用于任务跟踪（与 LeanSpec 一起使用，而非代替）
- **最大速度**：Vibe coding 用于单人原型（无结构）

---

## 哲学：第一原则优于流程

LeanSpec 建立在 **5 个第一原则**之上（按优先顺序）：

1. **上下文经济** - 规范必须适应工作记忆（人类 + AI）
   - 目标：控制长度（通常每个规范 300 行以下）
   - 原因：注意力是稀缺资源，而非存储

2. **信噪比最大化** - 每个字必须提供决策信息
   - 测试："这句话提供了什么决策信息？"
   - 删减：显而易见、可推断或"可能未来"的内容

3. **意图优于实现** - 捕获为什么，而非仅仅如何
   - 必须有：问题、意图、成功标准
   - 原因：意图是稳定的，实现会变化

4. **架起桥梁** - 人类和 AI 都必须理解
   - 对人类：概述、上下文、理由
   - 对 AI：明确的需求、清晰的结构

5. **渐进式披露** - 当感受到痛点时添加复杂性
   - 单人开发：仅状态 + 创建日期
   - 感到痛点？添加标签、优先级、自定义字段
   - 永远不要添加"以防万一"的功能

**这些原则指导每个决策。**其他工具预先添加功能和流程。LeanSpec 从最小化开始，仅在您感到痛点时增长。

---

## 从其他工具迁移

已在使用 OpenSpec、spec-kit 或 ADR？LeanSpec 提供迁移工具：

```bash
# 从任何 SDD 工具迁移
lean-spec migrate ./path/to/specs

# AI 辅助迁移（使用 Copilot/Claude）
lean-spec migrate ./path/to/specs --with copilot

# 从 git 历史回填元数据
lean-spec backfill
```

详见[迁移指南](/zh-Hans/docs/guide/migration)。

---

## 在 AI 泡沫修正中生存

[Robert Matsuoka 的批判性评估](https://hyperdev.matsuoka.com/p/is-ai-a-bubble-i-didnt-think-so-until)认为 SDD 具有双重目的：解决实际问题，但也支持"证明企业采购和脱节估值的治理叙事"。

**泡沫指标是真实的：**
- AI 编码公司的估值达到 25-70 倍 ARR（对比互联网泡沫峰值 18 倍）
- Tessl 筹集了 1.25 亿美元，10 个月后仅交付了测试版注册表
- Cursor 在不到一年内估值达到 99 亿美元
- "70% 自动化"声称在审查下崩溃（现实世界：10-30% 生产力提升）

**预测：**18-24 个月内修正。那些在"技术潜力"上烧钱而非展示产品市场契合度的公司将面临清算。

### 为什么 LeanSpec 处于不同位置

**我们不是：**
- ❌ 承诺 70% 自动化或自主编码
- ❌ 销售 1.25 亿美元平台或 100 亿美元 IDE
- ❌ 要求刚性 5 步工作流
- ❌ 声称 AI 将消除高级开发者
- ❌ 以虚高估值筹集风险投资

**我们是：**
- ✅ 免费、开源工具
- ✅ 对规范何时有帮助或有害持务实态度
- ✅ 工具无关（适用于任何编辑器/AI）
- ✅ 解决真实痛点：团队对齐、上下文腐化、决策文档
- ✅ 诚实面对限制（[Rice 定理](https://www.marvinzhang.dev/blog/rices-theorem-why-automated-testing-will-fail)证明完全自动化在数学上是不可能的）

**幸存者**（根据 Matsuoka）：增强而非取代核心能力的工具。

**这就是我们的定位：**规范增强判断，它们不取代对代码库的理解。无自主编码承诺——只是更明智的人机协作。

### 理论基础

**为什么人类参与是必要的：**[Rice 定理](https://www.marvinzhang.dev/blog/rices-theorem-why-automated-testing-will-fail)（1951）证明所有程序的非平凡语义属性都是不可判定的——没有算法可以确定任意程序是否具有有趣的行为特征。

**这意味着什么：**
- AI 无法通过算法确定"您想要什么"（不可判定）
- 规范提供使验证可行的语义基础
- 人类定义意图，AI 放大规模（实现/测试）
- 测试是采样，而非证明——我们在理论约束内建立信心

**LeanSpec 的哲学与 Rice 定理一致：**人类提供意图（规范），AI 在这些约束内生成实现。我们与基本限制合作，而非对抗它们。

### 规范会成为表演吗？

**是的，当：**
- 采购需要但没人阅读
- 详尽的前期需求超出上下文限制
- 对琐碎变更应用刚性流程
- 文档保持静态而代码在演化

**LeanSpec 通过以下方式避免这种情况：**
- 明确的"何时不使用规范"指导
- &lt;300 行限制防止上下文溢出
- 渐进式披露（从简单开始，仅在需要时添加结构）
- 关注随时间老化良好的意图，而非详尽实现

📖 [深入探讨：限制、权衡与现实 →](/zh-Hans/docs/guide/limits-and-tradeoffs)

---

## 总结

**LeanSpec 适合想要以下特性的团队：**
- **高速度**通过低认知负荷和高 AI 对齐
- **适应性**适应任何团队文化、组织结构或工具
- **简单性**而不牺牲全面性
- **低延迟**使用本地版本控制的规范
- **渐进式披露** - 随团队增长的结构
- **诚实定位** - 无炒作，无不可能的承诺，只有务实的工具

**其他工具优化：**
- **结构化工作流**（Spec Kit） - 企业治理的规定性多步骤流程
- **变更治理**（OpenSpec） - 正式提案 → 审查 → 归档工作流
- **集成体验**（Kiro） - 内置 SDD 和自主代理的完整 AI IDE
- **项目管理**（Jira、Linear） - 任务跟踪和团队协调（补充 LeanSpec）
- **最大速度**（vibe coding） - 无结构，无文档，只有聊天

选择适合您团队工作流和需求的工具。对[理论约束](https://www.marvinzhang.dev/blog/rices-theorem-why-automated-testing-will-fail)内可能实现的目标保持现实态度。
